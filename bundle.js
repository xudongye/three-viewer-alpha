/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"bundle": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/app.js","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three_examples_jsm_WebGL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/WebGL.js */ \"./node_modules/three/examples/jsm/WebGL.js\");\n/* harmony import */ var simple_dropzone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! simple-dropzone */ \"./node_modules/simple-dropzone/dist/simple-dropzone.module.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Viewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/Viewer */ \"./src/components/Viewer.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nif (!(window.File && window.FileReader && window.FileList && window.Blob)) {\n  console.error('The File APIs are not fully supported in this browser.');\n} else if (!three_examples_jsm_WebGL_js__WEBPACK_IMPORTED_MODULE_0__[\"WEBGL\"].isWebGLAvailable()) {\n  console.error('WebGL is not supported in this browser.');\n}\n\nvar App = /*#__PURE__*/function () {\n  /**\r\n   * @param  {Element} el\r\n   * @param  {Location} location\r\n   */\n  function App(el, location) {\n    _classCallCheck(this, App);\n\n    var hash = location.hash ? query_string__WEBPACK_IMPORTED_MODULE_2___default.a.parse(location.hash) : {};\n    this.options = {\n      kiosk: Boolean(hash.kiosk),\n      model: hash.model || '',\n      preset: hash.preset || '',\n      cameraPosition: hash.cameraPosition ? hash.cameraPosition.split(',').map(Number) : null,\n      urls: ['/data/cross_d.glb', '/data/che1_d.glb', '/data/che2_d.glb', '/data/che3_d.glb', '/data/che4_d.glb', '/data/che5_d.glb', '/data/che6_d.glb', '/data/che7_d.glb', '/data/che8_d.glb']\n    };\n    this.el = el;\n    this.viewer = null;\n    this.viewerEl = null;\n    this.spinnerEl = el.querySelector('.spinner');\n    this.dropEl = el.querySelector('.dropzone');\n    this.inputEl = el.querySelector('#file-input');\n    this.createDropzone();\n    this.hideSpinner(); // this.createViewer();\n\n    var options = this.options;\n\n    if (options.urls) {\n      this.showSpinner();\n      this.loadUrls(options.urls);\n    }\n  }\n\n  _createClass(App, [{\n    key: \"createDropzone\",\n    value: function createDropzone() {\n      var _this = this;\n\n      var dropCtrl = new simple_dropzone__WEBPACK_IMPORTED_MODULE_1__[\"SimpleDropzone\"](this.dropEl, this.inputEl);\n      dropCtrl.on('drop', function (_ref) {\n        var files = _ref.files;\n        return _this.load(files);\n      });\n      dropCtrl.on('dropstart', function () {\n        return _this.showSpinner();\n      });\n      dropCtrl.on('droperror', function () {\n        return _this.hideSpinner();\n      });\n    }\n    /**\r\n     * Sets up the view manager.\r\n     * @return {Viewer}\r\n     */\n\n  }, {\n    key: \"createViewer\",\n    value: function createViewer() {\n      this.viewerEl = document.createElement('div');\n      this.viewerEl.classList.add('viewer');\n      this.dropEl.innerHTML = '';\n      this.dropEl.appendChild(this.viewerEl);\n      this.viewer = new _components_Viewer__WEBPACK_IMPORTED_MODULE_3__[\"Viewer\"](this.viewerEl, this.options);\n      return this.viewer;\n    }\n    /**\r\n    * Loads a fileset provided by user action.\r\n    * @param  {Map<string, File>} fileMap\r\n    */\n\n  }, {\n    key: \"load\",\n    value: function load(fileMap) {\n      var _this2 = this;\n\n      var rootFile, rootPath;\n      Array.from(fileMap).forEach(function (_ref2, index) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            path = _ref3[0],\n            file = _ref3[1];\n\n        if (file.name.match(/\\.(gltf|glb)$/)) {\n          rootFile = file;\n          rootPath = path.replace(file.name, '');\n        }\n\n        if (!rootFile) {\n          _this2.onError('No .gltf or .glb asset found.');\n        }\n\n        _this2.view(rootFile, rootPath, fileMap, fileMap.size);\n      });\n    }\n  }, {\n    key: \"loadUrls\",\n    value: function loadUrls(urls) {\n      for (var index = 0; index < urls.length; index++) {\n        this.view(urls[index], '', new Map(), urls.length);\n      }\n    }\n    /**\r\n    * Passes a model to the viewer, given file and resources.\r\n    * @param  {File|string} rootFile\r\n    * @param  {string} rootPath\r\n    * @param  {Map<string, File>} fileMap\r\n    */\n\n  }, {\n    key: \"view\",\n    value: function view(rootFile, rootPath, fileMap, modelNum) {\n      var _this3 = this;\n\n      var viewer = this.viewer || this.createViewer();\n      var fileURL = typeof rootFile === 'string' ? rootFile : URL.createObjectURL(rootFile);\n\n      var cleanup = function cleanup() {\n        if (_typeof(rootFile) === 'object') URL.revokeObjectURL(fileURL);\n      };\n\n      viewer.load(fileURL, rootPath, fileMap)[\"catch\"](function (e) {\n        return _this3.onError(e);\n      }).then(function (obj) {\n        if (!_this3.options.kiosk) {\n          var content = viewer.setContent(obj.scene, obj.clips);\n\n          if (content.children.length == modelNum) {\n            _this3.hideSpinner();\n\n            viewer.gltfLoadCompleted();\n          }\n        }\n\n        cleanup();\n      });\n    }\n    /**\r\n     * @param  {Error} error\r\n     */\n\n  }, {\n    key: \"onError\",\n    value: function onError(error) {\n      var message = (error || {}).message || error.toString();\n\n      if (message.match(/ProgressEvent/)) {\n        message = 'Unable to retrieve this file. Check JS console and browser network tab.';\n      } else if (message.match(/Unexpected token/)) {\n        message = \"Unable to parse file content. Verify that this file is valid. Error: \\\"\".concat(message, \"\\\"\");\n      } else if (error && error.target && error.target instanceof Image) {\n        message = 'Missing texture: ' + error.target.src.split('/').pop();\n      }\n\n      window.alert(message);\n      console.error(error);\n    }\n  }, {\n    key: \"showSpinner\",\n    value: function showSpinner() {\n      this.spinnerEl.style.display = '';\n    }\n  }, {\n    key: \"hideSpinner\",\n    value: function hideSpinner() {\n      this.spinnerEl.style.display = 'none';\n    }\n  }]);\n\n  return App;\n}();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var app = new App(document.body, location);\n});\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/components/AdminMaterial.js":
/*!*****************************************!*\
  !*** ./src/components/AdminMaterial.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/RGBELoader.js */ \"./node_modules/three/examples/jsm/loaders/RGBELoader.js\");\n/* harmony import */ var _utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/dom-helper */ \"./src/utility/dom-helper.js\");\n/* harmony import */ var _utility_ApiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utility/ApiService */ \"./src/utility/ApiService.js\");\n/* harmony import */ var _scss_adminMaterial_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scss/adminMaterial.scss */ \"./src/scss/adminMaterial.scss\");\n/* harmony import */ var _scss_adminMaterial_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_scss_adminMaterial_scss__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _images_default_material_ball_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../images/default-material-ball.png */ \"./src/images/default-material-ball.png\");\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar AdminMaterial = /*#__PURE__*/function () {\n  function AdminMaterial(viewer) {\n    _classCallCheck(this, AdminMaterial);\n\n    this.container = viewer.el;\n    this.materialAll = {}; //放置预设所有材质\n\n    this.initialtMaterial = {}; //放置node初始材质\n\n    this.materialSpherePhoto = [];\n    this.viewer = viewer || null;\n    this.materialLoader = new three__WEBPACK_IMPORTED_MODULE_0__[\"MaterialLoader\"]();\n    this.pmremGenerator = null;\n    this.materialRender = null;\n    this.materialPanel = null;\n    this.init();\n  }\n\n  _createClass(AdminMaterial, [{\n    key: \"init\",\n    value: function init() {\n      if (!this.materialRender) {\n        this.materialRender = initMaterialRender(this.container);\n      }\n\n      if (!this.pmremGenerator) {\n        updateMaterialEnvironment.apply(this);\n      }\n\n      loadMaterialData.apply(this);\n      reloadInitialtMaterial.apply(this);\n    }\n  }, {\n    key: \"enter\",\n    value: function enter() {\n      var _this2 = this;\n\n      var presetMaterials = this.getAllMaterial();\n      this.materialPanel = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"DIV\", \"material-panel\");\n      presetMaterials.map(function (item, index) {\n        var materialItem = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"DIV\", \"panel-item\");\n        var imgEl = \"<img src='\".concat(item.material.image, \"' />\");\n        materialItem.innerHTML = imgEl;\n        materialItem.addEventListener(\"click\", function () {\n          // alert(\"设置材质\" + item.name)\n          if (_this2.viewer.state.isSelectAll) {\n            _this2.setPartNodeMaterial(item.id);\n          } else {\n            _this2.setNodeMaterial(item.id);\n          }\n        });\n\n        _this2.materialPanel.appendChild(materialItem);\n      });\n      this.container.appendChild(this.materialPanel); // this.materialRender.canvas.style.display = 'block';\n    }\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      this.pmremGenerator.dispose();\n      this.container.removeChild(this.materialPanel); // this.materialRender.canvas.style.display = 'none';\n    }\n  }, {\n    key: \"setMaterialColor\",\n    value: function setMaterialColor(materialId, rgbColor) {\n      if (!materialId || !rgbColor) {\n        console.warn(' setMaterialColor 缺少materialId  或 rgbColor');\n        return;\n      }\n\n      ;\n      this.viewer.selectionProxy.hiddenProxy();\n      var currentMaterial = this.materialAll[materialId].material;\n      currentMaterial.color = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](rgbColor);\n    }\n  }, {\n    key: \"setMaterialOpacity\",\n    value: function setMaterialOpacity(materialId, opacity) {\n      if (!materialId || !opacity) {\n        console.warn('setMaterialOpacity中 缺少materialId 或 opacity');\n        return;\n      }\n\n      ;\n      this.viewer.selectionProxy.hiddenProxy();\n\n      if (typeof opacity !== 'number') {\n        console.warn('setMaterialOpacity中 opacity或是数据类型非数字');\n        return;\n      }\n\n      ;\n      this.materialAll[materialId].material.transparent = true;\n      if (this.materialAll[materialId]) this.materialAll[materialId].material.opacity = opacity;\n    }\n  }, {\n    key: \"setNodeMaterial\",\n    value: function setNodeMaterial(materialId) {\n      var target = this.viewer.pickedObject;\n      var replaceMaterial = this.initialtMaterial[target.id];\n      if (materialId) replaceMaterial = this.materialAll[materialId].material;\n      target.material = replaceMaterial;\n      this.viewer.selectionProxy.hiddenProxy();\n    }\n  }, {\n    key: \"setPartNodeMaterial\",\n    value: function setPartNodeMaterial(materialId) {\n      var _this3 = this;\n\n      var target = this.viewer.pickedObject;\n      target.traverse(function (node) {\n        var replaceMaterial = _this3.initialtMaterial[node.id];\n\n        if (materialId) {\n          replaceMaterial = _this3.materialAll[materialId].material;\n        }\n\n        node.material = replaceMaterial;\n      });\n      this.viewer.selectionProxy.hiddenProxy();\n    }\n  }, {\n    key: \"getAllMaterial\",\n    value: function getAllMaterial() {\n      var presetMaterials = [];\n      var defaultMaterial = {\n        name: \"默认\",\n        material: {\n          image: _images_default_material_ball_png__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n        },\n        isPreset: true\n      };\n      presetMaterials.push(defaultMaterial);\n\n      for (var key in this.materialAll) {\n        var currentMaterial = this.materialAll[key];\n\n        if (currentMaterial.isPreset) {\n          var newMaterialData = materialDataConvert.apply(this, [currentMaterial.material]);\n          presetMaterials.push(newMaterialData);\n        }\n      }\n\n      return presetMaterials;\n    }\n  }]);\n\n  return AdminMaterial;\n}();\n\nfunction loadMaterialData() {\n  var _this = this;\n\n  _utility_ApiService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMaterials().then(function (res) {\n    res.map(function (item, index) {\n      _utility_ApiService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMaterialDataByUrl(item.materialUrl).then(function (materialJson) {\n        var materialObject = _this.materialLoader.parse(materialJson);\n\n        loadMaterialJsonTexture(materialJson, materialObject);\n        _this.materialAll[materialObject.id] = {\n          material: materialObject,\n          isPreset: true\n        };\n      });\n    });\n  });\n  console.log(\"材质库初始成功：\", this.materialAll);\n}\n\nfunction materialDataConvert(material) {\n  var materialData = {\n    id: material.id,\n    name: material.name,\n    material: {\n      color: material.color,\n      opacity: material.opacity,\n      image: getMaterialRenderImage.apply(this, [material.id])\n    },\n    isPreset: true\n  };\n  return materialData;\n}\n\nfunction getMaterialRenderImage(materialId) {\n  if (!materialId) {\n    console.warn(\"getMaterialRenderImage 方法中，缺少必要参数:materialId \");\n    return;\n  }\n\n  if (this.materialAll[materialId]) {\n    this.materialRender.sphere.visible = true;\n    this.materialRender.scene.overrideMaterial = this.materialAll[materialId].material;\n    this.materialRender.renderer.render(this.materialRender.scene, this.materialRender.camera);\n    this.materialRender.sphere.visible = false;\n    return this.materialRender.canvas.toDataURL(\"image/png\");\n  }\n}\n\nfunction reloadInitialtMaterial() {\n  var _this4 = this;\n\n  for (var key in this.materialAll) {\n    if (!this.materialAll[key].isPreset) delete this.materialAll[key];\n  }\n\n  for (var _key in this.initialtMaterial) {\n    if (!this.materialAll[_key]) delete this.materialAll[_key];\n  }\n\n  this.viewer.content.traverse(function (node) {\n    if (!node.material) return;\n    var materialKey = node.material.id;\n\n    if (!_this4.materialAll[materialKey]) {\n      _this4.materialAll[materialKey] = {\n        material: node.material\n      };\n    }\n\n    _this4.initialtMaterial[node.id] = node.material;\n  }); // console.log(\"原材质初始成功：\", this.materialAll, this.initialtMaterial);\n}\n\nfunction loadMaterialJsonTexture(MaterialJson, MaterialObject) {\n  var textures = MaterialJson.textures,\n      images = MaterialJson.images;\n\n  function findTextures(uuid) {\n    var textureArray = textures.filter(function (item) {\n      return item.uuid === uuid;\n    });\n    return textureArray[0];\n  }\n\n  function findImages(uuid) {\n    var imagesArray = images.filter(function (item) {\n      return item.uuid === uuid;\n    });\n    return imagesArray[0];\n  }\n\n  function addTexture(textureUuid, attributeName) {\n    var currentTexture = findTextures(textureUuid);\n    var currentImages = findImages(currentTexture.image);\n    var imageDataUrl = currentImages.url;\n    var texture = new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load(imageDataUrl);\n    MaterialObject[attributeName] = texture; //设置属性\n\n    if (currentTexture.name) texture.name = currentTexture.name;\n    if (currentTexture.mapping) texture.mapping = currentTexture.mapping;\n    if (currentTexture.repeat) texture.repeat = _construct(three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"], _toConsumableArray(currentTexture.repeat));\n    if (currentTexture.offset) texture.offset = _construct(three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"], _toConsumableArray(currentTexture.offset));\n    if (currentTexture.center) texture.center = _construct(three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"], _toConsumableArray(currentTexture.center));\n    if (currentTexture.format) texture.format = currentTexture.format;\n    if (currentTexture.type) texture.type = currentTexture.type;\n    if (currentTexture.encoding) texture.encoding = currentTexture.encoding;\n    if (currentTexture.minFilter) texture.minFilter = currentTexture.minFilter;\n    if (currentTexture.magFilter) texture.magFilter = currentTexture.magFilter;\n    if (currentTexture.anisotropy) texture.anisotropy = currentTexture.anisotropy;\n    if (currentTexture.flipY) texture.flipY = currentTexture.flipY;\n    if (currentTexture.premultiplyAlpha) texture.premultiplyAlpha = currentTexture.premultiplyAlpha;\n    if (currentTexture.unpackAlignment) texture.unpackAlignment = currentTexture.unpackAlignment;\n\n    if (currentTexture.wrap) {\n      //关于wrapS是否对应wrap[0]还是wrap[1], 还未确定\n      texture.wrapS = currentTexture.wrap[0];\n      texture.wrapT = currentTexture.wrap[1];\n    }\n  }\n\n  if (MaterialJson.normalMap) addTexture(MaterialJson.normalMap, \"normalMap\");\n  if (MaterialJson.map) addTexture(MaterialJson.map, \"map\");\n}\n\nfunction updateMaterialEnvironment() {\n  var _this5 = this;\n\n  if (!this.viewer.envhdrUrl) {\n    return;\n  }\n\n  this.pmremGenerator = new three__WEBPACK_IMPORTED_MODULE_0__[\"PMREMGenerator\"](this.materialRender.renderer);\n  new Promise(function (resolve, reject) {\n    new three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_1__[\"RGBELoader\"]().setDataType(three__WEBPACK_IMPORTED_MODULE_0__[\"UnsignedByteType\"]).load(_this5.viewer.envhdrUrl, function (texture) {\n      var envMap = _this5.pmremGenerator.fromEquirectangular(texture).texture;\n\n      _this5.pmremGenerator.dispose();\n\n      _this5.materialRender.scene.environment = envMap;\n      resolve();\n    }, undefined, reject);\n  });\n}\n\nfunction initMaterialRender(container) {\n  var materialRender = {\n    canvas: null,\n    scene: new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]()\n  };\n  materialRender.canvas = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"CANVAS\", \"material-render\");\n  materialRender.canvas.width = \"200\";\n  materialRender.canvas.height = \"200\";\n  materialRender.canvas.style.display = \"none\";\n  container.appendChild(materialRender.canvas);\n  materialRender.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, materialRender.canvas.width / materialRender.canvas.height, 1, 100);\n  materialRender.camera.position.x = 20;\n  materialRender.camera.position.y = 0;\n  materialRender.camera.position.z = 0;\n  materialRender.camera.lookAt(0, 0, 0);\n  materialRender.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n    antialias: true,\n    alpha: true,\n    canvas: materialRender.canvas\n  });\n  var light1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0x111100, 10);\n  light1.position.y += 8;\n  light1.position.z += 4;\n  var rectLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"RectAreaLight\"](0xffffff, 6, 3, 5);\n  rectLight.position.set(0, 5, 8);\n  rectLight.lookAt(0, 0, 0);\n  materialRender.scene.add(rectLight);\n  var rectLight2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"RectAreaLight\"](0xffffff, 4, 3, 5);\n  rectLight2.position.set(9, 5, 8);\n  rectLight2.lookAt(0, 0, 0);\n  materialRender.scene.add(rectLight2);\n  var rectLight3 = new three__WEBPACK_IMPORTED_MODULE_0__[\"RectAreaLight\"](0xffffff, 4, 3, 5);\n  rectLight3.position.set(-9, 5, 8);\n  rectLight3.lookAt(0, 0, 0);\n  materialRender.scene.add(rectLight3);\n  var rectLight4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"RectAreaLight\"](0xffffff, 4, 5, 3);\n  rectLight4.position.set(0, -7, 6);\n  rectLight4.lookAt(0, 0, 0);\n  materialRender.scene.add(rectLight4);\n  var geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereBufferGeometry\"](5, 32, 32);\n  var material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: 0x00ff00\n  });\n  material.roughness = 0.9;\n  material.metalness = 0.1;\n  materialRender.sphere = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geometry, material);\n  materialRender.sphere.visible = false;\n  materialRender.scene.add(materialRender.sphere);\n  return materialRender;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AdminMaterial);\n\n//# sourceURL=webpack:///./src/components/AdminMaterial.js?");

/***/ }),

/***/ "./src/components/InfoLabel.js":
/*!*************************************!*\
  !*** ./src/components/InfoLabel.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var _utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utility/dom-helper */ \"./src/utility/dom-helper.js\");\n/* harmony import */ var _scss_infoLabel_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../scss/infoLabel.scss */ \"./src/scss/infoLabel.scss\");\n/* harmony import */ var _scss_infoLabel_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_scss_infoLabel_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _images_label3d_line_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../images/label3d-line.png */ \"./src/images/label3d-line.png\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar InfoLabel = /*#__PURE__*/function () {\n  function InfoLabel(viewer) {\n    _classCallCheck(this, InfoLabel);\n\n    this.viewer = viewer || null;\n    this.container = viewer.el || null;\n    this.labelText = null;\n    this.nodeId = null;\n    this.labelLine = null;\n    this.isAnimate = false;\n    this.startPos = null;\n    this.endPos = null;\n    this.prevOrientation_x = null;\n    this.labelEl = null;\n    this.css2dLabelAll = [];\n    this.label3dAll = [];\n    this.labelAll = [];\n    this.textureLoader = new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]();\n    this.label3dMaterial = {}; //referAngleObject用于获取一个统一的3d标牌的角度\n\n    var referAngleMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]();\n    var referAngleGeometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"]();\n    this.referAngleObject = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](referAngleMat, referAngleGeometry);\n    this.init();\n  }\n\n  _createClass(InfoLabel, [{\n    key: \"init\",\n    value: function init() {\n      this.labelRenderer = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_1__[\"CSS2DRenderer\"]();\n      this.labelRenderer.setSize(Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementWidth\"])(this.container), Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementHeight\"])(this.container));\n      this.labelRenderer.domElement.style.position = 'absolute';\n      this.labelRenderer.domElement.style.top = '0px';\n      this.labelRenderer.domElement.style.pointerEvents = 'none';\n      this.labelRenderer.domElement.classList.add('Info-label');\n      this.container.appendChild(this.labelRenderer.domElement);\n    }\n  }, {\n    key: \"show\",\n    value: function show(nodeName, labelText, dotPosition) {\n      if (!nodeName) return;\n      var currentNode = this.viewer.content.getObjectByName(nodeName);\n\n      if (!currentNode) {\n        console.warn(\"\\u65E0\\u6CD5\\u627E\\u5230\\u5F53\\u524Did\\u4E3A: \".concat(nodeName, \" \\u7684\\u8282\\u70B9\"));\n        return;\n      }\n\n      ;\n      window.addEventListener('resize', onWindowResize.bind(this));\n      var newCss2dLabel = addCss2dLabel(currentNode, labelText, dotPosition);\n      this.labelAll.push(newCss2dLabel);\n      this.viewer.scene.add(newCss2dLabel.object3D);\n\n      if (!this.isAnimate) {\n        this.isAnimate = true;\n        animate.apply(this);\n      }\n\n      ;\n      return {\n        type: 'labelDom',\n        nodeName: nodeName,\n        id: newCss2dLabel.id,\n        position: dotPosition\n      };\n    }\n  }, {\n    key: \"addLabel3d\",\n    value: function addLabel3d(position, option) {\n      if (!position) {\n        console.error('addLabel3d: position不能为空');\n        return;\n      }\n\n      var config = Object.assign({\n        width: 1.7,\n        height: 2,\n        lineHeight: 1,\n        lineWidth: 0.02,\n        title: 'demo',\n        background: null,\n        showRange: [0, window.Infinity] // 数组[0]为最小值， [1]为最大值--- 当相机与对象处于这段距离里时将会显示，其他距离将会隐藏\n\n      }, option);\n      if (!config.showRange[1]) config.showRange[1] = window.Infinity;\n\n      if (!this.changeReferAngleEvent) {\n        this.changeReferAngleEvent = changeReferAngle.bind(this);\n        this.viewer.controls.addEventListener('change', this.changeReferAngleEvent);\n      } //创建3d标签\n\n\n      var label3d = new three__WEBPACK_IMPORTED_MODULE_0__[\"Object3D\"]();\n      label3d.name = 'label3d';\n      var label3dInfo = {\n        type: 'label3d',\n        object3D: label3d,\n        position: position,\n        config: config\n      };\n\n      var labelPostion = _construct(three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"], _toConsumableArray(position));\n\n      label3d.position.copy(labelPostion);\n      this.labelAll.push(label3dInfo);\n      var label3dMap = this.loadLabel3dBackground(config); // let label3dPanelPic = this.textureLoader.load( label3dPanel );\n      // label3dPanelPic.encoding = this.viewer.renderer.outputEncoding;\n\n      var labelGeometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](config.width, config.height, 1);\n      var labelMaterial = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        // color: new THREE.Color('#000'),\n        side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"],\n        // map: new THREE.CanvasTexture(panelCanvas),\n        map: label3dMap,\n        transparent: true,\n        alphaTest: 0.45\n      });\n      var labelMesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](labelGeometry, labelMaterial);\n      labelMesh.name = 'label3d-panel';\n      labelMesh.position.y += config.lineHeight + config.height / 1.8;\n      var lineGeometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](config.lineWidth, config.lineHeight, 1);\n      var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        transparent: true,\n        map: this.textureLoader.load(_images_label3d_line_png__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n        side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n      });\n      var lineMesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](lineGeometry, lineMaterial);\n      lineMesh.name = 'label3d-line';\n      lineMesh.position.y += config.lineHeight / 2;\n      label3d.add(lineMesh);\n      label3d.add(labelMesh);\n      this.viewer.scene.add(label3d);\n\n      var returnLabel3dInfo = _objectSpread({\n        type: 'label3d',\n        id: label3d.id,\n        position: position\n      }, config);\n\n      watchData.apply(this, [returnLabel3dInfo, label3dCallSet, label3dInfo]);\n\n      if (!this.isAnimate) {\n        this.isAnimate = true;\n        animate.apply(this);\n      }\n\n      return returnLabel3dInfo;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(labelId) {\n      var that = this;\n\n      if (!labelId) {\n        this.hideAll();\n        return;\n      }\n\n      function rmoveDomAndMesh(rmoveTarget) {\n        that.viewer.scene.remove(rmoveTarget.object3D);\n        if (rmoveTarget.labelEl) that.labelRenderer.domElement.removeChild(rmoveTarget.labelEl);\n        if (rmoveTarget.dotEl) that.labelRenderer.domElement.removeChild(rmoveTarget.dotEl);\n      }\n\n      this.labelAll = this.labelAll.filter(function (item) {\n        if (item.object3D.id == labelId) rmoveDomAndMesh(item);\n        return item.object3D.id != labelId;\n      });\n    }\n  }, {\n    key: \"hideAll\",\n    value: function hideAll() {\n      var _this = this;\n\n      this.isAnimate = false;\n      window.removeEventListener('resize', onWindowResize.bind(this));\n      this.labelAll.forEach(function (labelObject) {\n        _this.viewer.scene.remove(labelObject.object3D);\n\n        if (labelObject.labelEl) _this.labelRenderer.domElement.removeChild(labelObject.labelEl);\n        if (labelObject.dotEl) _this.labelRenderer.domElement.removeChild(labelObject.dotEl); // this.labelRenderer.domElement.removeChild(labelObject.dotEl)\n      });\n      this.labelAll = [];\n\n      if (this.changeReferAngleEvent) {\n        this.viewer.controls.removeEventListener('change', this.changeReferAngleEvent);\n        this.changeReferAngleEvent = null;\n      }\n    }\n  }, {\n    key: \"loadLabel3dBackground\",\n    value: function loadLabel3dBackground(config) {\n      var label3dMap = null;\n\n      if (config.background) {\n        // debugger\n        if (isElement(config.background) && config.background.tagName === 'CANVAS') {\n          label3dMap = new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](config.background);\n        } else {\n          label3dMap = this.textureLoader.load(config.background);\n        }\n\n        label3dMap.encoding = this.viewer.renderer.outputEncoding;\n      } else {\n        var panelCanvas = newPanelCanvas(config.title, config.width * 100, config.height * 100);\n        label3dMap = new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](panelCanvas);\n      }\n\n      return label3dMap;\n    }\n  }]);\n\n  return InfoLabel;\n}(); //partsName, pointName,value, state ='a1', type = 'b1',\n\n\nfunction newPanelCanvas(title, widthSize, heightSize) {\n  var fontSize = widthSize * 0.2;\n  var ctx = document.createElement('canvas').getContext('2d'); // measure how long the name will be\n\n  var width = widthSize;\n  var height = heightSize;\n  ctx.canvas.width = width;\n  ctx.canvas.height = height;\n  ctx.fillStyle = '#f73b22';\n  ctx.fillRect(0, 0, width, height);\n  ctx.font = \"\".concat(fontSize, \"px \\tMicrosoft YaHei\");\n  ctx.fillStyle = 'white';\n  var titleLeft = (width - ctx.measureText(title).width) / 2;\n  var titletop = height / 2;\n  ctx.fillText(title, titleLeft, titletop);\n  return ctx.canvas;\n}\n\nfunction addCss2dLabel(currentNode, labelContent, dotPosition) {\n  var labelContainer = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])('DIV', 'label-container');\n  var labelEl = null;\n\n  if (isElement(labelContent)) {\n    labelContent.classList.add('info-label-ui');\n    labelEl = labelContent;\n  } else {\n    labelEl = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])('DIV', 'info-label-ui', \"<div class=\\\"info-label-text\\\" > \".concat(labelContent, \"</div>\"));\n  }\n\n  labelContainer.appendChild(labelEl);\n  var labelDot = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])('DIV', 'info-label-dot', '<div class=\"info-label-mindot\"> </div> <div class=\"info-label-maxdot\"> </div>');\n  var nodeBox = getNodeBox3(currentNode);\n  var startPos = nodeBox.getCenter(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]());\n\n  if (dotPosition) {\n    startPos.x = dotPosition.x;\n    startPos.y = dotPosition.y;\n    startPos.z = dotPosition.z;\n  }\n\n  var toEndDistance = nodeBox.max.clone().sub(startPos);\n  var moveDistance = toEndDistance.multiplyScalar(-0.4); //这里multiplyScalar里面的数是一个距离的系数，负数是指向endPos的坐标向startPos的方向退后，而正数是向前进\n\n  var endPos = nodeBox.max.clone().add(moveDistance);\n  var points = [];\n  points.push(startPos.clone());\n  points.push(endPos.clone());\n  var labelOject = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_1__[\"CSS2DObject\"](labelContainer);\n  var labelDotNode = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_1__[\"CSS2DObject\"](labelDot);\n  labelOject.name = 'labelOject';\n  labelDotNode.name = 'labelDotNode';\n  var lineMaterial = new three__WEBPACK_IMPORTED_MODULE_0__[\"LineBasicMaterial\"]({\n    color: 0xFFFF00,\n    depthTest: false //为了让线浮于所有物体上方设置这个值\n\n  });\n  var lineGeometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferGeometry\"]().setFromPoints([]);\n  var labelLine = new three__WEBPACK_IMPORTED_MODULE_0__[\"Line\"](lineGeometry, lineMaterial);\n  labelLine.renderOrder = 10; //为了让线浮于所有物体上方设置这个值\n\n  labelLine.geometry.setFromPoints(points);\n  labelOject.position.copy(endPos);\n  labelDotNode.position.copy(startPos);\n  labelLine.name = 'labelLine';\n  var css2dLabel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  css2dLabel.name = 'css2dLabel';\n  css2dLabel.add(labelOject);\n  css2dLabel.add(labelDotNode);\n  css2dLabel.add(labelLine);\n  return {\n    labelEl: labelContainer,\n    dotEl: labelDot,\n    object3D: css2dLabel,\n    nodeName: currentNode.name,\n    type: 'labelDom'\n  };\n}\n\nfunction getNodeBox3(node) {\n  var box = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n  box.expandByObject(node);\n  return box;\n}\n\nfunction animate() {\n  var _this2 = this;\n\n  if (!this.isAnimate || this.labelAll.length === 0) return;\n  this.labelRenderer.render(this.viewer.scene, this.viewer.defaultCamera);\n  this.labelAll.forEach(function (labelObject) {\n    if (labelObject.type === 'labelDom') {\n      adjustDomLabelDirection(labelObject, _this2);\n    } else if (labelObject.type === 'label3d') {\n      var distanceFromCamera = _this2.viewer.defaultCamera.position.distanceTo(labelObject.object3D.position);\n\n      var isShow = labelObject.config.showRange[0] <= distanceFromCamera && distanceFromCamera <= labelObject.config.showRange[1]; //showRange[0] 为最小值 ，showRange[1]最大值\n\n      labelObject.object3D.visible = isShow;\n      labelObject.object3D.rotation.copy(_this2.referAngleObject.rotation);\n    }\n  });\n  requestAnimationFrame(function () {\n    animate.apply(_this2);\n  });\n}\n\nfunction adjustDomLabelDirection(labelObject, infoLabel) {\n  var rendererWidth = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementWidth\"])(infoLabel.labelRenderer.domElement);\n  var rendererHeigth = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementHeight\"])(infoLabel.labelRenderer.domElement);\n  var startPos = labelObject.object3D.children[0].position.clone(); //部件对象的位置 \n\n  var endPos = labelObject.object3D.children[1].position.clone(); //圆点对象的位置 \n  // 090101 这段代码主要功能为了美观，让标签左对齐还是右对齐\n  //090101 step-1 获取标签的开始位置和结束位置 并转成屏幕坐标\n\n  var screenStartPos = toScreenPosition(startPos, infoLabel.viewer.defaultCamera, rendererWidth, rendererHeigth);\n  var screenEndPos = toScreenPosition(endPos, infoLabel.viewer.defaultCamera, rendererWidth, rendererHeigth); // 090101 step-2 获开始位置到结束位置的方向\n\n  var orientation_x = screenStartPos.x - screenEndPos.x > 0 ? true : false; // 090101 step-3 根据方向让标签默认左对齐还是右对齐\n\n  if (infoLabel.prevOrientation_x !== orientation_x) {\n    if (orientation_x) {\n      labelObject.labelEl.classList.remove('label-align-right');\n    } else {\n      labelObject.labelEl.classList.add('label-align-right');\n    }\n\n    infoLabel.prevOrientation_x = orientation_x;\n  }\n\n  ;\n}\n\nfunction onWindowResize() {\n  this.labelRenderer.setSize(Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementWidth\"])(this.container), Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_2__[\"getElementHeight\"])(this.container));\n} //屏幕坐标矢量转成屏幕坐标\n\n\nfunction toScreenPosition(pos, camera, width, height) {\n  var vector = pos.project(camera);\n  vector.x = (vector.x + 1) / 2 * width;\n  vector.y = -(vector.y - 1) / 2 * height;\n  return {\n    x: vector.x,\n    y: vector.y\n  };\n}\n\n;\n\nfunction isElement(obj) {\n  try {\n    //Using W3 DOM2 (works for FF, Opera and Chrome)\n    return obj instanceof HTMLElement;\n  } catch (e) {\n    //Browsers not supporting W3 DOM2 don't have HTMLElement and\n    //an exception is thrown and we end up here. Testing some\n    //properties that all elements have (works on IE7)\n    return _typeof(obj) === \"object\" && obj.nodeType === 1 && _typeof(obj.style) === \"object\" && _typeof(obj.ownerDocument) === \"object\";\n  }\n} //用于监控数据是否有改动--仅测试用\n\n\nfunction watchData(object, callObjce) {\n  var _this3 = this;\n\n  for (var _len = arguments.length, otheObject = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    otheObject[_key - 2] = arguments[_key];\n  }\n\n  var _loop = function _loop(property) {\n    var currentObject = object[property];\n\n    if (currentObject) {\n      Object.defineProperty(object, property, {\n        get: function get() {\n          return _this3[\"_\".concat(property)];\n        },\n        set: function set(newVal) {\n          _this3[\"_\".concat(property)] = newVal;\n          callObjce[property].apply(_this3, [object, newVal].concat(otheObject));\n        }\n      });\n    }\n\n    ;\n  };\n\n  for (var property in callObjce) {\n    _loop(property);\n  }\n} //类似vue的watch--仅测试用\n\n\nvar label3dCallSet = {\n  title: function title(object, newVal, label3dInfo) {\n    console.log(\"\\u5F53\\u524D\\u4E3Atitle:\", newVal, label3dInfo, this);\n  },\n  background: function background(object, newVal, label3dInfo) {\n    var label3dMap = this.loadLabel3dBackground(object);\n    var label3dPanel = label3dInfo.object3D.getObjectByName(\"label3d-panel\");\n    label3dPanel.material.map = label3dMap;\n  }\n};\n\nfunction changeReferAngle() {\n  var cameraPos = this.viewer.defaultCamera.position.clone();\n  this.referAngleObject.lookAt(cameraPos.x, this.referAngleObject.position.y, cameraPos.z);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (InfoLabel);\n\n//# sourceURL=webpack:///./src/components/InfoLabel.js?");

/***/ }),

/***/ "./src/components/JSONView.js":
/*!************************************!*\
  !*** ./src/components/JSONView.js ***!
  \************************************/
/*! exports provided: render, createTree, renderJSON, expandChildren, collapseChildren, traverseTree, selectNodeById, clearSelection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTree\", function() { return createTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderJSON\", function() { return renderJSON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expandChildren\", function() { return expandChildren; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collapseChildren\", function() { return collapseChildren; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseTree\", function() { return traverseTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectNodeById\", function() { return selectNodeById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearSelection\", function() { return clearSelection; });\n/* harmony import */ var _scss_jsonview_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scss/jsonview.scss */ \"./src/scss/jsonview.scss\");\n/* harmony import */ var _scss_jsonview_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scss_jsonview_scss__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\nvar config = {\n  isFolderSelectable: false,\n  onClick: function onClick() {}\n};\nvar tree = null;\nvar selectedNode = null;\n\nfunction expandedTemplate() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var key = params.key,\n      size = params.size,\n      title = params.title,\n      id = params.id;\n  return \"\\n      <div class=\\\"line\\\">\\n        <div  class=\\\"caret-icon\\\"><i class=\\\"fas fa-caret-right\\\"></i></div>\\n        <div data-id=\\\"\".concat(id, \"\\\"  class=\\\"json-key\\\" title =\\\"\").concat(title, \"\\\"  >\").concat(title, \"</div>\\n        <div  btn-data-id=\\\"\").concat(id, \"\\\" class=\\\"hide-btn\\\"></div>\\n        <div></div>\\n        <!-- <span style=\\\"font-size:2px;\\\">\").concat(id, \"</span> -->\\n      </div>\\n    \");\n}\n\nfunction notExpandedTemplate() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var key = params.key,\n      value = params.value,\n      type = params.type,\n      title = params.title,\n      id = params.id;\n  return \"\\n      <div class=\\\"line\\\" data-id=\\\"\".concat(id, \"\\\">\\n        <div class=\\\"empty-icon\\\"></div>\\n        <div data-id=\\\"\").concat(id, \"\\\"  class=\\\"json-key\\\" title =\\\"\").concat(title, \"\\\" >\").concat(title, \"</div>\\n        <div class=\\\"json-separator\\\"></div>\\n        <div class=\\\"json-value json-\").concat(type, \"\\\"></div>\\n        <div part-name=\\\"\").concat(title, \"\\\" class=\\\"part-perspective\\\"></div>\\n        <div btn-data-id=\\\"\").concat(id, \"\\\" class=\\\"hide-btn\\\"></div>\\n        <div></div>\\n        <!-- <span style=\\\"font-size:2px;\\\">\").concat(id, \"</span> -->\\n      </div>\\n    \");\n}\n\nfunction hideNodeChildren(node) {\n  node.children.forEach(function (child) {\n    child.el.classList.add('hide');\n\n    if (child.isExpanded) {\n      hideNodeChildren(child);\n    }\n  });\n}\n\nfunction showNodeChildren(node) {\n  node.children.forEach(function (child) {\n    child.el.classList.remove('hide');\n\n    if (child.isExpanded) {\n      showNodeChildren(child);\n    }\n  });\n}\n\nfunction setCaretIconDown(node) {\n  if (node.children.length > 0) {\n    var icon = node.el.querySelector('.fas');\n\n    if (icon) {\n      icon.classList.replace('fa-caret-right', 'fa-caret-down');\n    }\n  }\n}\n\nfunction setCaretIconRight(node) {\n  if (node.children.length > 0) {\n    var icon = node.el.querySelector('.fas');\n\n    if (icon) {\n      icon.classList.replace('fa-caret-down', 'fa-caret-right');\n    }\n  }\n}\n\nfunction toggleNode(node) {\n  if (node.isExpanded) {\n    node.isExpanded = false;\n    setCaretIconRight(node);\n    hideNodeChildren(node);\n  } else {\n    node.isExpanded = true;\n    setCaretIconDown(node);\n    showNodeChildren(node);\n  }\n}\n\nfunction createContainerElement() {\n  var el = document.createElement('div');\n  el.className = 'json-container';\n  return el;\n}\n/**\r\n * Create node html element\r\n * @param {object} node \r\n * @return html element\r\n */\n\n\nfunction createNodeElement(node) {\n  var el = document.createElement('div');\n\n  var getSizeString = function getSizeString(node) {\n    var len = node.children.length;\n    if (node.type === 'array') return \"[\".concat(len, \"]\");\n    if (node.type === 'object') return \"{\".concat(len, \"}\");\n    return null;\n  };\n\n  if (node.children.length > 0) {\n    el.innerHTML = expandedTemplate({\n      key: node.key,\n      size: getSizeString(node),\n      title: node.title,\n      id: node.id\n    });\n    var caretEl = el.querySelector('.caret-icon');\n    caretEl.addEventListener('click', function () {\n      toggleNode(node);\n    });\n  } else {\n    el.innerHTML = notExpandedTemplate({\n      key: node.key,\n      value: node.value,\n      type: _typeof(node.value),\n      title: node.title,\n      id: node.id\n    });\n  }\n\n  var lineEl = el.children[0];\n\n  if (node.parent !== null) {\n    lineEl.classList.add('hide');\n  }\n\n  lineEl.style = 'padding-left: ' + (node.depth * 18 + 8) + 'px;';\n  return lineEl;\n}\n/**\r\n * Get value data type\r\n * @param {*} data\r\n */\n\n\nfunction getDataType(val) {\n  var type = _typeof(val);\n\n  if (Array.isArray(val)) type = 'array';\n  if (val === null) type = 'null';\n  return type;\n}\n/**\r\n * Recursively traverse json object\r\n * @param {object} target\r\n * @param {function} callback\r\n */\n\n\nfunction traverseObject(target, callback) {\n  callback(target);\n\n  if (_typeof(target) === 'object') {\n    for (var key in target) {\n      traverseObject(target[key], callback);\n    }\n  }\n}\n/**\r\n * Recursively traverse Tree object\r\n * @param {Object} node\r\n * @param {Callback} callback\r\n */\n\n\nfunction traverseTree(node, callback) {\n  callback(node);\n\n  if (node.children.length > 0) {\n    node.children.forEach(function (child) {\n      traverseTree(child, callback);\n    });\n  }\n}\n/**\r\n * Create node object\r\n * @param {object} opt options\r\n * @return {object}\r\n */\n\n\nfunction createNode() {\n  var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    key: opt.key || null,\n    parent: opt.parent || null,\n    value: opt.hasOwnProperty('value') ? opt.value : null,\n    isExpanded: opt.isExpanded || false,\n    type: opt.type || null,\n    children: opt.children || [],\n    el: opt.el || null,\n    depth: opt.depth || 0,\n    title: opt.title || 'unknown',\n    id: opt.id || null\n  };\n}\n/**\r\n * Create subnode for node\r\n * @param {object} Json data\r\n * @param {object} node\r\n */\n\n\nfunction createSubnode(data, node) {\n  if (_typeof(data) === 'object') {\n    for (var key in data) {\n      var child = createNode({\n        value: data[key],\n        key: key,\n        depth: node.depth + 1,\n        type: getDataType(data[key]),\n        parent: node,\n        title: data[key].name || data[key].uuid,\n        id: data[key].uuid\n      });\n      node.children.push(child);\n      createSubnode(data[key].children, child);\n    }\n  }\n}\n/**\r\n * Create tree\r\n * @param {object | string} jsonData \r\n * @return {object}\r\n */\n\n\nfunction createTree(jsonData) {\n  var data = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n  var rootNode = createNode({\n    value: data.children,\n    key: getDataType(data),\n    type: getDataType(data),\n    title: data.name || data.uuid,\n    id: data.uuid,\n    isExpanded: true\n  });\n  createSubnode(data.children, rootNode);\n  return rootNode;\n}\n/**\r\n * Render JSON string into DOM container\r\n * @param {string | object} jsonData\r\n * @param {htmlElement} targetElement\r\n * @param {object} customConfig\r\n * @return {object} tree\r\n */\n\n\nfunction renderJSON(jsonData, targetElement, customConfig) {\n  var parsedData = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n  tree = createTree(parsedData);\n  Object.assign(config, customConfig);\n  render(tree, targetElement);\n  return tree;\n}\n/**\r\n * Render tree into DOM container\r\n * @param {object} tree\r\n * @param {htmlElement} targetElement\r\n */\n\n\nfunction render(tree, targetElement) {\n  var containerEl = createContainerElement();\n  traverseTree(tree, function (node) {\n    node.el = createNodeElement(node);\n    var subNode = node.el.querySelector('.json-key');\n    subNode.addEventListener('click', function (e) {\n      var id = this.getAttribute('data-id');\n\n      if (e.target.className.indexOf('fas') < 0 && id) {\n        config.onClick(id);\n      }\n\n      if (config.isFolderSelectable || !config.isFolderSelectable && node.children.length < 1) {\n        if (selectedNode) {\n          //selectedNode.el.className = 'line';\n          selectedNode.el.classList.remove('active');\n        } //node.el.className = 'line active';\n\n\n        node.el.classList.add('active');\n        selectedNode = node;\n      }\n    });\n    containerEl.appendChild(node.el);\n  });\n  targetElement.appendChild(containerEl);\n}\n\nfunction expandChildren(node) {\n  traverseTree(node, function (child) {\n    child.el.classList.remove('hide');\n    child.isExpanded = true;\n    setCaretIconDown(child);\n  });\n}\n\nfunction collapseChildren(node) {\n  traverseTree(node, function (child) {\n    child.isExpanded = false;\n    if (child.depth > node.depth) child.el.classList.add('hide');\n    setCaretIconRight(child);\n  });\n}\n\nfunction expandParent(node) {\n  node.isExpanded = true;\n  setCaretIconDown(node);\n  showNodeChildren(node);\n\n  if (node.parent) {\n    expandParent(node.parent);\n  }\n}\n\nfunction selectNodeById(id) {\n  if (!id) {\n    return;\n  }\n\n  var lineNode = document.querySelector(\".line.active\");\n\n  if (lineNode) {\n    lineNode.classList.remove('active');\n  }\n\n  ;\n  traverseTree(tree, function (node) {\n    if (node.id == id) {\n      if (selectedNode) {\n        selectedNode.el.className = 'line';\n      }\n\n      node.el.className = 'line active';\n      selectedNode = node;\n      expandParent(node);\n      node.el.scrollIntoView();\n    }\n  });\n}\n\nfunction clearSelection() {\n  if (selectedNode) {\n    selectedNode.el.classList.remove('active');\n    selectedNode = null;\n  }\n}\n/**\r\n * Export public interface\r\n */\n\n\n\n\n//# sourceURL=webpack:///./src/components/JSONView.js?");

/***/ }),

/***/ "./src/components/RotationMode.js":
/*!****************************************!*\
  !*** ./src/components/RotationMode.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TransformProxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TransformProxy */ \"./src/components/TransformProxy.js\");\n/* harmony import */ var three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/TransformControls */ \"./node_modules/three/examples/jsm/controls/TransformControls.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar RotationMode = /*#__PURE__*/function () {\n  function RotationMode(viewer) {\n    _classCallCheck(this, RotationMode);\n\n    this.camera = viewer.defaultCamera;\n    this.domElement = viewer.renderer.domElement;\n    this.controls = viewer.controls;\n    this.scene = viewer.scene;\n    this.objectRotationControls = null;\n    this.selectionProxy = viewer.selectionProxy;\n    this.viewer = viewer;\n    this.rotation = null;\n  }\n\n  _createClass(RotationMode, [{\n    key: \"create\",\n    value: function create(pickedObject) {\n      var _this = this;\n\n      this.exit(); // pickedObject = this.viewer.scene.getObjectByName('Group#75') //测试用的\n\n      this.viewer.justifyLocation(pickedObject);\n      this.objectRotationControls = new three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_1__[\"TransformControls\"](this.camera, this.domElement);\n      this.objectRotationControls.addEventListener('dragging-changed', function (event) {\n        _this.controls.enabled = !event.value;\n      }); // this.objectRotationControls.addEventListener('mouseDown', (event) => {\n      //     this.selectionProxy.hiddenProxy();\n      // })\n\n      this.objectRotationControls.addEventListener('mouseUp', function (event) {\n        console.log(\"旋转事件：\" + event);\n      });\n      this.objectRotationControls.attach(pickedObject);\n      this.objectRotationControls.setMode('rotate'); // this.objectRotationControls.setSpace('local');\n\n      this.scene.add(this.objectRotationControls);\n    }\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      this.selectionProxy.hiddenProxy();\n\n      if (this.objectRotationControls) {\n        this.viewer.scene.remove(this.objectRotationControls);\n        this.objectRotationControls.dispose();\n        this.objectRotationControls.detach();\n        this.objectRotationControls = null;\n      }\n    }\n  }]);\n\n  return RotationMode;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RotationMode);\n\n//# sourceURL=webpack:///./src/components/RotationMode.js?");

/***/ }),

/***/ "./src/components/ScaleMode.js":
/*!*************************************!*\
  !*** ./src/components/ScaleMode.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/controls/TransformControls */ \"./node_modules/three/examples/jsm/controls/TransformControls.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar ScaleMode = /*#__PURE__*/function () {\n  function ScaleMode(viewer) {\n    _classCallCheck(this, ScaleMode);\n\n    this.camera = viewer.defaultCamera;\n    this.domElement = viewer.renderer.domElement;\n    this.controls = viewer.controls;\n    this.scene = viewer.scene;\n    this.objectScaleControls = null;\n    this.selectionProxy = viewer.selectionProxy;\n    this.viewer = viewer;\n    this.rotation = null;\n  }\n\n  _createClass(ScaleMode, [{\n    key: \"create\",\n    value: function create(pickedObject) {\n      var _this = this;\n\n      this.exit();\n      this.viewer.justifyLocation(pickedObject);\n      this.objectScaleControls = new three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_0__[\"TransformControls\"](this.camera, this.domElement);\n      this.objectScaleControls.addEventListener('dragging-changed', function (event) {\n        _this.controls.enabled = !event.value;\n      }); // this.objectScaleControls.addEventListener('mouseDown', (event) => {\n      //     this.selectionProxy.hiddenProxy();\n      // })\n\n      this.objectScaleControls.addEventListener('mouseUp', function (event) {\n        console.log(\"缩放事件：\" + event);\n      });\n      this.objectScaleControls.attach(pickedObject);\n      this.objectScaleControls.setMode('scale'); // this.objectScaleControls.setSpace('local');\n\n      this.scene.add(this.objectScaleControls);\n    }\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      this.selectionProxy.hiddenProxy();\n\n      if (this.objectScaleControls) {\n        this.viewer.scene.remove(this.objectScaleControls);\n        this.objectScaleControls.dispose();\n        this.objectScaleControls.detach();\n        this.objectScaleControls = null;\n      }\n    }\n  }]);\n\n  return ScaleMode;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScaleMode);\n\n//# sourceURL=webpack:///./src/components/ScaleMode.js?");

/***/ }),

/***/ "./src/components/SelectionProxy.js":
/*!******************************************!*\
  !*** ./src/components/SelectionProxy.js ***!
  \******************************************/
/*! exports provided: SelectionProxy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectionProxy\", function() { return SelectionProxy; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _shaders_EdgeShader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaders/EdgeShader */ \"./src/shaders/EdgeShader.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar SelectionProxy = /*#__PURE__*/function () {\n  function SelectionProxy(scene) {\n    _classCallCheck(this, SelectionProxy);\n\n    this.scene = scene;\n    this.obj = null;\n    this.proxies = [];\n  }\n\n  _createClass(SelectionProxy, [{\n    key: \"create\",\n    value: function create(pickedObject) {\n      var edgeMaterial = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n        vertexShader: _shaders_EdgeShader__WEBPACK_IMPORTED_MODULE_1__[\"default\"].vertexShader,\n        fragmentShader: _shaders_EdgeShader__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fragmentShader,\n        uniforms: three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsUtils\"].clone(_shaders_EdgeShader__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uniforms),\n        transparent: true,\n        depthTest: false\n      });\n      edgeMaterial.blending = three__WEBPACK_IMPORTED_MODULE_0__[\"NormalBlending\"];\n      edgeMaterial.supportsMrtNormals = true;\n      var selectionMaterialBase = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0xF8EC12,\n        opacity: 0.4,\n        transparent: true,\n        metalness: 0.65,\n        roughness: 0.54\n      });\n      var selectionMaterialTop = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0xF8EC12,\n        opacity: 0.4,\n        transparent: true,\n        metalness: 0.65,\n        roughness: 0.54\n      });\n      selectionMaterialTop.packedNormals = true;\n      selectionMaterialBase.packedNormals = true;\n      edgeMaterial.depthWrite = false;\n      edgeMaterial.depthTest = false;\n      selectionMaterialBase.depthWrite = false;\n      selectionMaterialBase.depthTest = false;\n      if (!pickedObject) return;\n      var hiddenEdge = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pickedObject.geometry, selectionMaterialBase);\n      hiddenEdge.matrix.copy(pickedObject.matrixWorld);\n      hiddenEdge.matrixAutoUpdate = false;\n      hiddenEdge.matrixWorldNeedsUpdate = true;\n      hiddenEdge.frustumCulled = false;\n      this.scene.add(hiddenEdge);\n      this.proxies.push(hiddenEdge);\n      var topSelectionProxy = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pickedObject.geometry, selectionMaterialTop);\n      topSelectionProxy.matrix.copy(pickedObject.matrixWorld);\n      topSelectionProxy.matrixAutoUpdate = false;\n      topSelectionProxy.matrixWorldNeedsUpdate = true;\n      topSelectionProxy.frustumCulled = false;\n      this.scene.add(topSelectionProxy);\n      this.proxies.push(topSelectionProxy);\n      this.obj = pickedObject;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this = this;\n\n      this.proxies.map(function (proxy) {\n        return _this.scene.remove(proxy);\n      });\n      this.proxies = [];\n    }\n  }, {\n    key: \"sync\",\n    value: function sync() {\n      var _this2 = this;\n\n      this.proxies.map(function (proxy) {\n        return proxy.matrix.copy(_this2.obj.matrixWorld);\n      });\n    }\n  }, {\n    key: \"hiddenProxy\",\n    value: function hiddenProxy() {\n      if (this.proxies) this.proxies.map(function (proxy) {\n        return proxy.visible = false;\n      });\n    }\n  }, {\n    key: \"showProxy\",\n    value: function showProxy() {\n      this.proxies.map(function (proxy) {\n        return proxy.visible = true;\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.clear();\n      this.scene = null;\n      this.obj = null;\n      this.proxies = null;\n    }\n  }]);\n\n  return SelectionProxy;\n}();\n\n//# sourceURL=webpack:///./src/components/SelectionProxy.js?");

/***/ }),

/***/ "./src/components/StructureTree.js":
/*!*****************************************!*\
  !*** ./src/components/StructureTree.js ***!
  \*****************************************/
/*! exports provided: StructureTree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StructureTree\", function() { return StructureTree; });\n/* harmony import */ var _utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/dom-helper */ \"./src/utility/dom-helper.js\");\n/* harmony import */ var _JSONView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JSONView */ \"./src/components/JSONView.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar StructureTree = /*#__PURE__*/function () {\n  function StructureTree(el, opt) {\n    _classCallCheck(this, StructureTree);\n\n    this.el = el;\n    this.content = opt.content;\n    this.opt = Object.assign({\n      showStructureTree: function showStructureTree(val) {},\n      seletedByUUId: function seletedByUUId(id) {},\n      clearSelection: function clearSelection() {}\n    }, opt || {});\n    this.init();\n  }\n\n  _createClass(StructureTree, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      var that = this;\n      var domEl = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('DIV', 'viewer-structure scrollbar-style');\n      var closeBtn = \"\\n          <div class='panel-title'> \\n            <p>\\u6A21\\u578B</p>\\n            <div class='panel-close-btn'></div>\\n          </div>\\n          <div class='panel-control'>\\n            <div class='control-show-bnt'> \\u5168\\u90E8\\u663E\\u793A</div>\\n            <div style='clear:both'></div>\\n          </div>\\n        \";\n      domEl.innerHTML = closeBtn;\n      this.el.appendChild(domEl);\n      _JSONView__WEBPACK_IMPORTED_MODULE_1__[\"renderJSON\"](that.content, domEl, {\n        onClick: function onClick(id) {\n          return _this.onLineNodeClick(id);\n        }\n      });\n      document.querySelector('.panel-close-btn').addEventListener('click', function () {\n        _this.opt.showStructureTree(false);\n      });\n    }\n  }, {\n    key: \"onLineNodeClick\",\n    value: function onLineNodeClick(id) {\n      var lineNode = document.querySelector(\".line.active\");\n\n      if (lineNode) {\n        lineNode.classList.remove('active');\n        this.opt.clearSelection();\n      } else {\n        var htmlNOde = document.querySelector('.line [data-id=\"' + id + '\"]');\n        htmlNOde = htmlNOde.parentNode;\n        htmlNOde.classList.add('active');\n        this.opt.seletedByUUId(id);\n      }\n    }\n  }]);\n\n  return StructureTree;\n}();\n\n//# sourceURL=webpack:///./src/components/StructureTree.js?");

/***/ }),

/***/ "./src/components/ToolBar.js":
/*!***********************************!*\
  !*** ./src/components/ToolBar.js ***!
  \***********************************/
/*! exports provided: ToolBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolBar\", function() { return ToolBar; });\n/* harmony import */ var _utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utility/dom-helper */ \"./src/utility/dom-helper.js\");\n/* harmony import */ var three_examples_jsm_libs_tween_module_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/libs/tween.module.min.js */ \"./node_modules/three/examples/jsm/libs/tween.module.min.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar ToolBar = /*#__PURE__*/function () {\n  function ToolBar(el, opt) {\n    _classCallCheck(this, ToolBar);\n\n    this.el = el;\n    this.isCollapse = false;\n    this.htmlNode = {\n      toobarFold: null,\n      btnArea: null\n    };\n    this.btnAreaDefaultStyle = {\n      height: null,\n      width: null\n    };\n    this.opt = Object.assign({\n      startUpWireframe: function startUpWireframe(val) {},\n      showStructureTree: function showStructureTree(val) {},\n      showTransformMode: function showTransformMode(val) {},\n      showInfoLabel: function showInfoLabel(val) {},\n      selectAllMode: function selectAllMode(val) {},\n      showOrDelPart: function showOrDelPart(val) {},\n      showRotationMode: function showRotationMode(val) {},\n      showScaleMode: function showScaleMode(val) {},\n      showMaterialMode: function showMaterialMode(val) {},\n      excuteTween: function excuteTween(val) {}\n    }, opt || {});\n    this.init();\n  }\n\n  _createClass(ToolBar, [{\n    key: \"init\",\n    value: function init() {\n      var viewerBbar = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('DIV', 'viewer-bbar');\n      var domEl = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('DIV', 'btn-area');\n      this.htmlNode.viewerBbar = viewerBbar;\n      this.htmlNode.btnArea = domEl;\n      var toobarFoldHtml = \"\\n          <div class=\\\"toobar-fold-btn\\\">\\n           <div class=\\\"btn\\\">\\n          </div>\\n        \";\n      var toobarFold = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('DIV', 'toobar-fold normal-height', toobarFoldHtml);\n      this.htmlNode.toobarFold = toobarFold;\n      this.el.appendChild(viewerBbar);\n      viewerBbar.appendChild(toobarFold);\n      viewerBbar.appendChild(domEl);\n      var that = this;\n      toobarFold.addEventListener('click', function () {\n        that.collapseToolbar();\n      });\n      this.createBtn(domEl);\n    }\n  }, {\n    key: \"createBtn\",\n    value: function createBtn(domEl) {\n      var _this = this;\n\n      var that = this;\n      var structureBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      structureBtn.setAttribute(\"title\", \"结构\");\n      structureBtn.classList.add(\"structureBtn\"); //todo\n\n      structureBtn.addEventListener('click', function () {\n        if (structureBtn.classList == 'structureBtn activate') {\n          structureBtn.classList.remove('activate');\n          that.opt.showStructureTree(false);\n        } else {\n          structureBtn.classList.add('activate');\n          that.opt.showStructureTree(true);\n        }\n      });\n      domEl.appendChild(structureBtn);\n      var selectedAllToolBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      selectedAllToolBtn.setAttribute(\"title\", \"全选\");\n      selectedAllToolBtn.classList.add(\"selectedAllToolBtn\");\n      selectedAllToolBtn.addEventListener('click', function () {\n        if (selectedAllToolBtn.classList == 'selectedAllToolBtn activate') {\n          selectedAllToolBtn.classList.remove(\"activate\");\n          that.opt.selectAllMode(false);\n        } else {\n          selectedAllToolBtn.classList.add(\"activate\");\n          that.opt.selectAllMode(true);\n        }\n      });\n      domEl.appendChild(selectedAllToolBtn);\n      var showPartBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      showPartBtn.setAttribute(\"title\", \"显隐\");\n      showPartBtn.classList.add(\"showPartBtn\");\n      showPartBtn.addEventListener('click', function () {\n        if (showPartBtn.classList == 'showPartBtn activate') {\n          showPartBtn.classList.remove(\"activate\");\n          that.opt.showOrDelPart(false);\n        } else {\n          showPartBtn.classList.add(\"activate\");\n          that.opt.showOrDelPart(true);\n        }\n      });\n      domEl.appendChild(showPartBtn);\n      var transformToolBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      transformToolBtn.setAttribute(\"title\", \"移动\");\n      transformToolBtn.classList.add(\"transformToolBtn\");\n      transformToolBtn.addEventListener('click', function () {\n        if (transformToolBtn.classList == 'transformToolBtn activate') {\n          transformToolBtn.classList.remove(\"activate\");\n          that.opt.showTransformMode(false);\n        } else {\n          transformToolBtn.classList.add(\"activate\");\n          that.opt.showTransformMode(true);\n        }\n      });\n      domEl.appendChild(transformToolBtn);\n      var rotationPartBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      rotationPartBtn.setAttribute(\"title\", \"旋转\");\n      rotationPartBtn.classList.add(\"rotationPartBtn\");\n      rotationPartBtn.addEventListener('click', function () {\n        if (rotationPartBtn.classList == 'rotationPartBtn activate') {\n          rotationPartBtn.classList.remove(\"activate\");\n          that.opt.showRotationMode(false);\n        } else {\n          rotationPartBtn.classList.add(\"activate\");\n          that.opt.showRotationMode(true);\n        }\n      });\n      domEl.appendChild(rotationPartBtn);\n      var zoomPartBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      zoomPartBtn.setAttribute(\"title\", \"缩放\");\n      zoomPartBtn.classList.add(\"zoomPartBtn\");\n      zoomPartBtn.addEventListener('click', function () {\n        if (zoomPartBtn.classList == 'zoomPartBtn activate') {\n          zoomPartBtn.classList.remove(\"activate\");\n          that.opt.showScaleMode(false);\n        } else {\n          zoomPartBtn.classList.add(\"activate\");\n          that.opt.showScaleMode(true);\n        }\n      });\n      domEl.appendChild(zoomPartBtn);\n      var materialBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      materialBtn.setAttribute(\"title\", \"材质\");\n      materialBtn.classList.add(\"materialBtn\");\n      materialBtn.addEventListener('click', function () {\n        if (materialBtn.classList == 'materialBtn activate') {\n          materialBtn.classList.remove(\"activate\");\n          that.opt.showMaterialMode(false);\n        } else {\n          materialBtn.classList.add(\"activate\");\n          that.opt.showMaterialMode(true);\n        }\n      });\n      domEl.appendChild(materialBtn);\n      var scutcheonBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      scutcheonBtn.setAttribute(\"title\", \"标签\");\n      scutcheonBtn.classList.add(\"scutcheonBtn\");\n      scutcheonBtn.addEventListener('click', function () {\n        if (scutcheonBtn.classList == 'scutcheonBtn activate') {\n          scutcheonBtn.classList.remove(\"activate\");\n          that.opt.showInfoLabel(false);\n        } else {\n          scutcheonBtn.classList.add(\"activate\");\n          that.opt.showInfoLabel(true);\n        }\n      });\n      domEl.appendChild(scutcheonBtn); // const explodeBtn = createElement('BUTTON', '');\n      // explodeBtn.setAttribute(\"title\", \"分解设备\")\n      // explodeBtn.classList.add(\"explodeBtn\");\n      // //todo\n      // explodeBtn.addEventListener('click', () => {\n      //     if (explodeBtn.classList == 'explodeBtn activate') {\n      //         explodeBtn.classList.remove('activate');\n      //     } else {\n      //         explodeBtn.classList.add('activate');\n      //     }\n      // })\n      // domEl.appendChild(explodeBtn);\n      // const sliceBtn = createElement('BUTTON', '');\n      // sliceBtn.setAttribute(\"title\", \"剖切设备\")\n      // sliceBtn.setAttribute(\"class\", \"sliceBtn\");\n      // //todo\n      // sliceBtn.addEventListener('click', () => {\n      //     if (sliceBtn.classList == 'sliceBtn activate') {\n      //         sliceBtn.classList.remove('activate');\n      //     } else {\n      //         sliceBtn.classList.add('activate');\n      //     }\n      // })\n      // domEl.appendChild(sliceBtn);\n      // const measurePointBtn = createElement('BUTTON', '');\n      // measurePointBtn.setAttribute(\"class\", 'measurePointBtn');\n      // measurePointBtn.setAttribute(\"title\", \"测点\");\n      // //todo\n      // measurePointBtn.addEventListener('click', () => {\n      //     if (measurePointBtn.classList == 'measurePointBtn activate') {\n      //         measurePointBtn.classList.remove('activate');\n      //     } else {\n      //         measurePointBtn.classList.add('activate');\n      //     }\n      // })\n      // domEl.appendChild(measurePointBtn);\n      // const healthDegree = createElement('BUTTON', '');\n      // healthDegree.setAttribute(\"class\", 'healthDegreeBtn');\n      // healthDegree.setAttribute(\"title\", \"健康度\");\n      // //todo\n      // healthDegree.addEventListener('click', () => {\n      //     if (healthDegree.classList == 'healthDegreeBtn activate') {\n      //         healthDegree.classList.remove('activate');\n      //     } else {\n      //         healthDegree.classList.add('activate');\n      //     }\n      // })\n      // domEl.appendChild(healthDegree);\n      // const wireframeBtn = createElement('BUTTON', '');\n      // wireframeBtn.setAttribute(\"class\", 'wireframeBtn');\n      // wireframeBtn.setAttribute(\"title\", \"线框模式\");\n      // //todo\n      // wireframeBtn.addEventListener('click', () => {\n      //     if (wireframeBtn.classList == 'wireframeBtn activate') {\n      //         wireframeBtn.classList.remove('activate');\n      //         that.opt.startUpWireframe(false);\n      //     } else {\n      //         wireframeBtn.classList.add('activate');\n      //         that.opt.startUpWireframe(true);\n      //     }\n      // })\n      // domEl.appendChild(wireframeBtn);\n      // const SettingBtn = createElement('BUTTON', '');\n      // SettingBtn.setAttribute('title', '场景设置')\n      // SettingBtn.classList.add(\"SettingBtn\");\n      // //todo\n      // SettingBtn.addEventListener('click', () => {\n      //     if (SettingBtn.classList == 'SettingBtn activate') {\n      //         SettingBtn.classList.remove('activate');\n      //     } else {\n      //         SettingBtn.classList.add('activate');\n      //     }\n      // })\n      // domEl.appendChild(SettingBtn);\n\n      var CaremaResetBtn = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('BUTTON', '');\n      CaremaResetBtn.setAttribute('title', \"重置模型\");\n      CaremaResetBtn.classList.add(\"CaremaResetBtn\"); //todo\n\n      CaremaResetBtn.addEventListener('click', function () {\n        if (CaremaResetBtn.classList == 'CaremaResetBtn activate') {\n          CaremaResetBtn.classList.remove('activate');\n\n          _this.opt.excuteTween(false);\n        } else {\n          CaremaResetBtn.classList.add('activate');\n\n          _this.opt.excuteTween(true);\n        }\n      });\n      domEl.appendChild(CaremaResetBtn);\n    }\n  }, {\n    key: \"collapseToolbar\",\n    value: function collapseToolbar() {\n      var tweenOneParam = null;\n      var tweenTwoParam = null;\n      var btnAreaDefaultHeight = 60;\n\n      if (!this.isCollapse) {\n        var btnAreaHeight = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"getElementHeight\"])(this.htmlNode.btnArea);\n        this.htmlNode.btnArea.style.height = \"\".concat(btnAreaHeight, \"px\");\n        this.htmlNode.btnArea.style.margin = '10px 0px';\n        var btnAreaWidth = Object(_utility_dom_helper__WEBPACK_IMPORTED_MODULE_0__[\"getElementWidth\"])(this.htmlNode.btnArea);\n        this.btnAreaDefaultStyle.width = \"\".concat(btnAreaWidth, \"px\");\n        this.btnAreaDefaultStyle.height = \"\".concat(btnAreaHeight, \"px\");\n        tweenOneParam = [{\n          width: btnAreaWidth,\n          opacity: 1\n        }, {\n          width: 0,\n          opacity: 0\n        }];\n        this.htmlNode.viewerBbar.classList.add('shrink-state');\n\n        if (btnAreaHeight > 60) {\n          this.htmlNode.btnArea.style.margin = '0px';\n          tweenTwoParam = [{\n            height: btnAreaHeight\n          }, {\n            height: btnAreaDefaultHeight\n          }];\n        }\n\n        this.collapseShrinkTween(200, tweenOneParam, tweenTwoParam);\n        this.isCollapse = true;\n      } else {\n        var _tweenOneParam = null;\n        var _tweenTwoParam = null;\n        _tweenOneParam = [{\n          width: 0,\n          opacity: 0\n        }, {\n          width: this.btnAreaDefaultStyle.width,\n          opacity: 1\n        }];\n\n        if (this.btnAreaDefaultStyle.height > 60) {\n          _tweenTwoParam = [{\n            height: btnAreaDefaultHeight\n          }, {\n            height: this.btnAreaDefaultStyle.height\n          }];\n        }\n\n        ;\n        this.htmlNode.viewerBbar.classList.remove('shrink-state');\n        this.collapseShrinkTween(200, _tweenOneParam, _tweenTwoParam, false);\n        this.isCollapse = false;\n      }\n    }\n  }, {\n    key: \"collapseShrinkTween\",\n    value: function collapseShrinkTween(time, tweenOneParam, tweenTwoParam) {\n      var _this2 = this;\n\n      console.log('tweenOneParam', tweenOneParam, tweenTwoParam);\n      var foldTweenOne, foldTweenTwo;\n      foldTweenOne = new three_examples_jsm_libs_tween_module_min_js__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Tween(tweenOneParam[0]).to(tweenOneParam[1], time).onUpdate(function (object) {\n        _this2.htmlNode.btnArea.style.width = \"\".concat(object.width, \"px\");\n        _this2.htmlNode.btnArea.style.opacity = object.opacity;\n      }).onComplete(function () {\n        if (!_this2.isCollapse) {\n          _this2.htmlNode.btnArea.removeAttribute('style');\n        }\n      }).easing(three_examples_jsm_libs_tween_module_min_js__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Easing.Quadratic.Out);\n\n      if (tweenTwoParam) {\n        foldTweenTwo = new three_examples_jsm_libs_tween_module_min_js__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Tween(tweenTwoParam[0]).to(tweenTwoParam[1], time - 150).onUpdate(function (object) {\n          _this2.htmlNode.btnArea.style.height = object.height;\n        }).easing(three_examples_jsm_libs_tween_module_min_js__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Easing.Quadratic.Out);\n      }\n\n      foldTweenOne.start();\n\n      if (foldTweenTwo) {\n        foldTweenTwo.delay(100);\n        foldTweenTwo.start();\n      }\n    }\n  }]);\n\n  return ToolBar;\n}();\n\n//# sourceURL=webpack:///./src/components/ToolBar.js?");

/***/ }),

/***/ "./src/components/TransformMode.js":
/*!*****************************************!*\
  !*** ./src/components/TransformMode.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TransformMode; });\n/* harmony import */ var _TransformProxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TransformProxy */ \"./src/components/TransformProxy.js\");\n/* harmony import */ var three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/TransformControls */ \"./node_modules/three/examples/jsm/controls/TransformControls.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar TransformMode = /*#__PURE__*/function () {\n  function TransformMode(viewer) {\n    _classCallCheck(this, TransformMode);\n\n    this.camera = viewer.defaultCamera;\n    this.domElement = viewer.renderer.domElement;\n    this.controls = viewer.controls;\n    this.scene = viewer.scene;\n    this.objectTransformControls = null;\n    this.selectionProxy = viewer.selectionProxy;\n    this.viewer = viewer;\n  } //进入移动模式\n\n\n  _createClass(TransformMode, [{\n    key: \"enter\",\n    value: function enter(pickedObject) {\n      var _this = this;\n\n      this.exit();\n\n      if (pickedObject) {\n        this.viewer.justifyLocation(pickedObject);\n        this.objectTransformControls = new three_examples_jsm_controls_TransformControls__WEBPACK_IMPORTED_MODULE_1__[\"TransformControls\"](this.camera, this.domElement); // this.objectTransformControls.setSize(0.8);\n        // this.objectTransformControls.addEventListener('mouseDown', (e) => {\n        //     this.selectionProxy.hiddenProxy();\n        // })\n\n        this.objectTransformControls.addEventListener('mouseUp', function (event) {\n          console.log(\"移动事件：\" + event);\n        }); //去掉拖动时，视角跟随移动的交互\n\n        this.objectTransformControls.addEventListener('dragging-changed', function (event) {\n          _this.controls.enabled = !event.value;\n        });\n        this.objectTransformControls.attach(pickedObject);\n        this.scene.add(this.objectTransformControls);\n      }\n    } //退出移动模式\n\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      this.selectionProxy.hiddenProxy();\n\n      if (this.objectTransformControls) {\n        this.viewer.scene.remove(this.objectTransformControls);\n        this.objectTransformControls.dispose();\n        this.objectTransformControls.detach();\n        this.objectTransformControls = null;\n      }\n    }\n  }]);\n\n  return TransformMode;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/TransformMode.js?");

/***/ }),

/***/ "./src/components/TransformProxy.js":
/*!******************************************!*\
  !*** ./src/components/TransformProxy.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar TransformProxy = /*#__PURE__*/function () {\n  function TransformProxy(object3d) {\n    _classCallCheck(this, TransformProxy);\n\n    this.object3d = object3d;\n    this.proxyObject = null; //newBoxProxy先临时放这里\n\n    if (this.object3d.children.length > 0) {\n      this.newBoxProxy();\n    } else {\n      this.init();\n    }\n  }\n\n  _createClass(TransformProxy, [{\n    key: \"init\",\n    value: function init() {\n      var material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: 0xff0000\n      });\n      this.proxyObject = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.object3d.geometry.clone(), material);\n      this.proxyObject.visible = false;\n      this.proxyObject.name = 'transformProxy';\n      this.object3d.parent.add(this.proxyObject); //li 0523 有一些模型因为有设置Rotation，所以新的顶点坐标也要先应用一个原node欧拉角变换\n\n      var cancelRotationMatrix4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]().makeRotationFromEuler(this.object3d.rotation);\n      this.proxyObject.geometry.applyMatrix4(cancelRotationMatrix4); // let box3 = new THREE.Box3();\n      // box3.expandByObject(this.proxyObject )   \n      // this.object3d.geometry.boundingBox  获取在局部坐标系统中的该模型中心坐标，\n\n      var nodeBoxCenter = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n\n      if (this.proxyObject.geometry.boundingBox) {\n        this.proxyObject.geometry.boundingBox.getCenter(nodeBoxCenter);\n      } else {\n        nodeBoxCenter.copy(this.proxyObject.geometry.boundingSphere.center);\n      } //计算在局部坐标系统中的模型中心点的位置到原点的距离\n\n\n      var distX = 0 - nodeBoxCenter.x;\n      var distY = 0 - nodeBoxCenter.y;\n      var distZ = 0 - nodeBoxCenter.z; //移动顶点坐标到原点的位置\n\n      var backOriginMatrix4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]().makeTranslation(distX, distY, distZ);\n      this.proxyObject.geometry.applyMatrix4(backOriginMatrix4);\n      this.proxyObject.position.x -= distX - this.object3d.position.x;\n      this.proxyObject.position.y -= distY - this.object3d.position.y;\n      this.proxyObject.position.z -= distZ - this.object3d.position.z;\n    }\n  }, {\n    key: \"newBoxProxy\",\n    value: function newBoxProxy() {\n      //使用box3用于计算this.object3d的长宽高以便于让boxProxy对齐this.object3d\n      var object3dBox3 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n      object3dBox3.expandByObject(this.object3d);\n      var objectBoxCenter = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n      object3dBox3.getCenter(objectBoxCenter);\n      var proxyBoxSize = [Math.abs(object3dBox3.max.x - object3dBox3.min.x), Math.abs(object3dBox3.max.y - object3dBox3.min.y), Math.abs(object3dBox3.max.z - object3dBox3.min.z)];\n      var boxProxymat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"]('red'),\n        transparent: false,\n        opacity: 0.5\n      });\n\n      var boxProxyGeometry = _construct(three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"], proxyBoxSize);\n\n      var boxProxy = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](boxProxyGeometry, boxProxymat);\n      boxProxy.name = 'boxProxy';\n      boxProxy.visible = false; //把boxProxy 放置到和this.object3d同一空间中，它的执行时机很关键，会影响到下面boxProxy的box3计算max,min的值时要参考的当前坐标系\n\n      this.object3d.parent.add(boxProxy); //使用box3用于计算boxProxy的长宽高和对象中心点坐标\n\n      var proxyBox3 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n      proxyBox3.expandByObject(boxProxy);\n      var proxyBox3Center = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n      proxyBox3.getCenter(proxyBox3Center); //使用box3用于计算boxProxy的长宽高和对象中心点坐标\n\n      boxProxy.position.x += objectBoxCenter.x - proxyBox3Center.x;\n      boxProxy.position.y += objectBoxCenter.y - proxyBox3Center.y;\n      boxProxy.position.z += objectBoxCenter.z - proxyBox3Center.z;\n      this.proxyObject = boxProxy;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      //移除对象并释放内存\n      this.object3d.parent.remove(this.proxyObject);\n      this.proxyObject.geometry.dispose();\n      this.proxyObject.material.dispose();\n      this.proxyObject.geometry = null;\n      this.proxyObject.material = null;\n      this.object3d = null;\n      this.proxyObject = null;\n    }\n  }]);\n\n  return TransformProxy;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TransformProxy);\n\n//# sourceURL=webpack:///./src/components/TransformProxy.js?");

/***/ }),

/***/ "./src/components/TweenProxy.js":
/*!**************************************!*\
  !*** ./src/components/TweenProxy.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TweenProxy; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_libs_tween_module_min__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/libs/tween.module.min */ \"./node_modules/three/examples/jsm/libs/tween.module.min.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar TweenProxy = /*#__PURE__*/function () {\n  function TweenProxy(viewer) {\n    _classCallCheck(this, TweenProxy);\n\n    this.viewer = viewer;\n    this.content = viewer.content;\n    this.selectionProxy = viewer.selectionProxy;\n    this.camera = viewer.defaultCamera;\n  }\n\n  _createClass(TweenProxy, [{\n    key: \"init\",\n    value: function init() {}\n    /**\r\n     * \r\n     * @param {记录模型节点名称} nodeName \r\n     * @param {模型移动后坐标} overPosition[]\r\n     * @returns \r\n     */\n\n  }, {\n    key: \"moveTween\",\n    value: function moveTween(nodeName, overPosition) {\n      var _this = this;\n\n      // debugger\n      var target = this.content.getObjectByName(nodeName);\n\n      if (!target) {\n        return;\n      }\n\n      this.viewer.justifyLocation(target); // overPosition.unshift(target.position);    \n\n      var endPosition = [target.position.clone()];\n      overPosition.forEach(function (item) {\n        endPosition.push(target.position.clone().add(item));\n      });\n      var overPath = new three__WEBPACK_IMPORTED_MODULE_0__[\"CatmullRomCurve3\"](endPosition).getPoints(10000);\n      new three_examples_jsm_libs_tween_module_min__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Tween({\n        pointindex: 0,\n        currentTime: 0\n      }).to({\n        pointindex: overPath.length - 2,\n        currentTime: 2000\n      }, 2000).easing(three_examples_jsm_libs_tween_module_min__WEBPACK_IMPORTED_MODULE_1__[\"TWEEN\"].Easing.Linear.None).onUpdate(function (e) {\n        console.log(e);\n        var idx = parseInt(e.pointindex);\n        target.position.x = overPath[idx].x;\n        target.position.y = overPath[idx].y;\n        target.position.z = overPath[idx].z;\n        target.lookAt(overPath[idx + 1]);\n      }).onComplete(function (e) {\n        console.log(e);\n\n        _this.selectionProxy.hiddenProxy();\n      }).start();\n    }\n  }]);\n\n  return TweenProxy;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/TweenProxy.js?");

/***/ }),

/***/ "./src/components/Viewer.js":
/*!**********************************!*\
  !*** ./src/components/Viewer.js ***!
  \**********************************/
/*! exports provided: Viewer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Viewer\", function() { return Viewer; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/libs/stats.module.js */ \"./node_modules/three/examples/jsm/libs/stats.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_KTX2Loader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/loaders/KTX2Loader.js */ \"./node_modules/three/examples/jsm/loaders/KTX2Loader.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ \"./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n/* harmony import */ var three_examples_jsm_libs_meshopt_decoder_module_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/libs/meshopt_decoder.module.js */ \"./node_modules/three/examples/jsm/libs/meshopt_decoder.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three/examples/jsm/loaders/RGBELoader.js */ \"./node_modules/three/examples/jsm/loaders/RGBELoader.js\");\n/* harmony import */ var _utility_dom_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utility/dom-helper */ \"./src/utility/dom-helper.js\");\n/* harmony import */ var _scss_three_viewer_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../scss/three-viewer.scss */ \"./src/scss/three-viewer.scss\");\n/* harmony import */ var _scss_three_viewer_scss__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_scss_three_viewer_scss__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ToolBar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ToolBar */ \"./src/components/ToolBar.js\");\n/* harmony import */ var _SelectionProxy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SelectionProxy */ \"./src/components/SelectionProxy.js\");\n/* harmony import */ var _StructureTree__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./StructureTree */ \"./src/components/StructureTree.js\");\n/* harmony import */ var _images_ground_scene_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../images/ground_scene.png */ \"./src/images/ground_scene.png\");\n/* harmony import */ var _TransformMode__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./TransformMode */ \"./src/components/TransformMode.js\");\n/* harmony import */ var _InfoLabel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./InfoLabel */ \"./src/components/InfoLabel.js\");\n/* harmony import */ var _RotationMode__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./RotationMode */ \"./src/components/RotationMode.js\");\n/* harmony import */ var _ScaleMode__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ScaleMode */ \"./src/components/ScaleMode.js\");\n/* harmony import */ var _AdminMaterial__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./AdminMaterial */ \"./src/components/AdminMaterial.js\");\n/* harmony import */ var _TweenProxy__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./TweenProxy */ \"./src/components/TweenProxy.js\");\n/* harmony import */ var three_examples_jsm_libs_tween_module_min__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! three/examples/jsm/libs/tween.module.min */ \"./node_modules/three/examples/jsm/libs/tween.module.min.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_22__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // var createBackground = require('three-vignette-background');\n\nvar DEFAULT_CAMERA = '[default]';\nvar Viewer = /*#__PURE__*/function () {\n  function Viewer(el, options) {\n    _classCallCheck(this, Viewer);\n\n    this.el = el;\n    this.options = options;\n    this.envhdrUrl = '/environment/venice_sunset_1k.hdr';\n    this.state = {\n      structureTree: false,\n      wireframe: false,\n      background: false,\n      addLights: true,\n      exposure: 1.0,\n      textureEncoding: 'sRGB',\n      ambientIntensity: 0.3,\n      ambientColor: 0xFFFFFF,\n      directIntensity: 0.8 * Math.PI,\n      // TODO(#116)\n      directColor: 0xFFFFFF,\n      bgColor1: '#ffffff',\n      bgColor2: '#353535',\n      playbackSpeed: 1,\n      actionStates: {},\n      firstExpandScalar: 0.1,\n      isTransformObj: false,\n      isRotationObj: false,\n      isScaleObj: false,\n      isSelectAll: false,\n      isShowInfoLabel: false,\n      customColor: '#ffae23',\n      customOpacity: 1\n    };\n    this.pickedObject = null;\n    this.maxSize = null; //包围盒最大的模型\n\n    this.lights = [];\n    this.content = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n    this.content.name = 'sceneRoot';\n    this.mixer = null;\n    this.clips = [];\n    this.gui = null;\n    this.prevTime = 0;\n    this.gridHelper = null;\n    this.stats = new three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    [].forEach.call(this.stats.dom.children, function (child) {\n      return child.style.display = '';\n    });\n    this.stats.dom.style.position = 'absolute';\n    this.stats.dom.style.top = 'unset';\n    this.stats.dom.style.bottom = '0px';\n    el.appendChild(this.stats.dom);\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.selectionProxy = new _SelectionProxy__WEBPACK_IMPORTED_MODULE_12__[\"SelectionProxy\"](this.scene);\n    this.raycaster = new three__WEBPACK_IMPORTED_MODULE_0__[\"Raycaster\"]();\n    var fov = 45;\n    this.defaultCamera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](fov, el.clientWidth / el.clientHeight, 0.01, 1000);\n    this.activeCamera = this.defaultCamera;\n    this.scene.add(this.defaultCamera);\n    this.renderer = window.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n      antialias: true,\n      alpha: true\n    });\n    this.renderer.physicallyCorrectLights = true;\n    this.renderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_0__[\"sRGBEncoding\"];\n    this.renderer.setClearColor(0xffffff, 0);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(el.clientWidth, el.clientHeight);\n    this.pmremGenerator = new three__WEBPACK_IMPORTED_MODULE_0__[\"PMREMGenerator\"](this.renderer);\n    this.pmremGenerator.compileEquirectangularShader();\n    this.controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_7__[\"OrbitControls\"](this.defaultCamera, this.renderer.domElement);\n    this.controls.autoRotate = false;\n    this.controls.autoRotateSpeed = -10;\n    this.controls.screenSpacePanning = true;\n    this.el.appendChild(this.renderer.domElement);\n    this.animate = this.animate.bind(this);\n    requestAnimationFrame(this.animate);\n    window.addEventListener('resize', this.resize.bind(this), false);\n    this.init();\n  }\n\n  _createClass(Viewer, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      this.updateLights();\n      this.updateEnvironment();\n      this.updateTextureEncoding();\n      this.addGUI();\n      this.toolbar = new _ToolBar__WEBPACK_IMPORTED_MODULE_11__[\"ToolBar\"](this.el, {\n        startUpWireframe: function startUpWireframe(val) {\n          _this2.setWireframe(val);\n        },\n        showStructureTree: function showStructureTree(val) {\n          _this2.showStructureTree(val);\n        },\n        showTransformMode: function showTransformMode(val) {\n          _this2.showTransformMode(val);\n        },\n        showInfoLabel: function showInfoLabel(val) {\n          _this2.showInfoLabel(val);\n        },\n        selectAllMode: function selectAllMode(val) {\n          _this2.selectAllMode(val);\n        },\n        showOrDelPart: function showOrDelPart(val) {\n          _this2.showOrDelPart(val);\n        },\n        showRotationMode: function showRotationMode(val) {\n          _this2.showRotationMode(val);\n        },\n        showScaleMode: function showScaleMode(val) {\n          _this2.showScaleMode(val);\n        },\n        showMaterialMode: function showMaterialMode(val) {\n          _this2.showMaterialMode(val);\n        },\n        excuteTween: function excuteTween(val) {\n          _this2.excuteTween(val);\n        }\n      });\n      this.structureTree = new _StructureTree__WEBPACK_IMPORTED_MODULE_13__[\"StructureTree\"](this.el, {\n        content: this.content,\n        showStructureTree: function showStructureTree(val) {\n          _this2.showStructureTree(val);\n        },\n        seletedByUUId: function seletedByUUId(id) {\n          _this2.seletedByUUId(id);\n        },\n        clearSelection: function clearSelection() {\n          _this2.clearSelection();\n        }\n      });\n      this.renderer.domElement.addEventListener('mousedown', this.onMouseDown.bind(this), false);\n      this.renderer.domElement.addEventListener('mouseup', this.onMouseUp.bind(this), false);\n      this.renderer.domElement.addEventListener('wheel', this.onWheel.bind(this), false);\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      // console.log(\"鼠标按下\", e)\n      this.oX = e.pageX;\n      this.oY = e.pageY;\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp(e) {\n      var _this = this; // console.log(\"鼠标弹起\", e)\n\n\n      this.fX = e.pageX;\n      this.fY = e.pageY;\n\n      if (Math.abs(this.fX - this.oX) < 2 && Math.abs(this.fY - this.oY) < 2) {\n        _this.raycast.apply(_this, [e]);\n      }\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(e) {// console.log(\"滚轮事件\", e)\n    }\n    /**\r\n     * \r\n     * @param {基于包围盒定位地坪} positionY \r\n     */\n\n  }, {\n    key: \"addGridHelper\",\n    value: function addGridHelper(box) {\n      var _this3 = this;\n\n      var ox1 = box.max.x;\n      var oy1 = box.max.y;\n      var oz1 = box.max.z;\n      var ox2 = box.min.x;\n      var oy2 = box.min.y;\n      var oz2 = box.min.z;\n      var baseSize = 1;\n\n      if (Math.abs(ox1 - ox2) > Math.abs(oz1 - oz2)) {\n        baseSize = Math.abs(ox1 - ox2);\n      } else {\n        baseSize = Math.abs(oz1 - oz2);\n      }\n\n      this.gridHelper = new three__WEBPACK_IMPORTED_MODULE_0__[\"GridHelper\"](baseSize * 40, 100, 0x000000, 0x000000);\n      this.gridHelper.material.opacity = 0.2;\n      this.gridHelper.material.transparent = true;\n      this.gridHelper.position.y = oy2;\n      this.scene.add(this.gridHelper);\n      new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load(_images_ground_scene_png__WEBPACK_IMPORTED_MODULE_14__[\"default\"], function (texture) {\n        var ground = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](baseSize * 2, baseSize * 2), new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          map: texture\n        }));\n        ground.material.transparent = true; // ground.receiveShadow = true;\n\n        ground.rotation.x = -Math.PI / 2;\n        ground.position.y = oy2;\n\n        _this3.scene.add(ground);\n      });\n    }\n    /**\r\n     * 屏幕点击事件\r\n     * @param {*} e \r\n     * @returns \r\n     */\n\n  }, {\n    key: \"raycast\",\n    value: function raycast(e) {\n      var _this$el$parentElemen = this.el.parentElement,\n          clientHeight = _this$el$parentElemen.clientHeight,\n          clientWidth = _this$el$parentElemen.clientWidth;\n      var mouse = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"]();\n      mouse.x = e.offsetX / clientWidth * 2 - 1;\n      mouse.y = -(e.offsetY / clientHeight) * 2 + 1;\n      var selectNode = [];\n      var intersects = [];\n      var scene = this.scene;\n      var raycaster = this.raycaster;\n      raycaster.setFromCamera(mouse, this.activeCamera);\n      scene.children.map(function (item) {\n        if (item instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]) {\n          item.children.map(function (node) {\n            selectNode.push(node);\n          });\n        }\n      });\n\n      if (selectNode) {\n        intersects = raycaster.intersectObjects(selectNode, true);\n      }\n\n      this.proxyClear();\n\n      if (intersects.length > 0) {\n        var firstVisibleObjectIndex = -1;\n\n        for (var i = 0, len = intersects.length; i < len; i++) {\n          if (intersects[i].object && intersects[i].object.visible == true) {\n            firstVisibleObjectIndex = i;\n            this.currentModeName = intersects[i].object.name;\n            this.currentModePosition = intersects[i].object.position;\n            this.currentCameraLookAt = this.activeCamera.position;\n            console.log('点击部件：', intersects[i].object);\n            console.log('相机位置', [this.activeCamera.position.x, this.activeCamera.position.y, this.activeCamera.position.z]);\n            break;\n          }\n        }\n\n        if (firstVisibleObjectIndex >= 0 && intersects[firstVisibleObjectIndex].object && intersects[firstVisibleObjectIndex].object.uuid) {\n          var pickedObject = intersects[firstVisibleObjectIndex].object;\n          console.warn(\"点击位置：\", [intersects[firstVisibleObjectIndex].point.x, intersects[firstVisibleObjectIndex].point.y, intersects[firstVisibleObjectIndex].point.z]);\n\n          if (this.pickedObject && this.pickedObject == pickedObject) {\n            return;\n          }\n\n          this.pickedObject = pickedObject;\n          this.createProxy();\n        }\n      }\n    }\n  }, {\n    key: \"createProxy\",\n    value: function createProxy() {\n      this.state.isSelectAll ? this.selectedRoot(this.pickedObject) : this.selectionProxy.create(this.pickedObject);\n\n      if (this.transformMode && this.state.isTransformObj) {\n        this.transformMode.enter(this.pickedObject);\n      }\n\n      if (this.infoLabel && this.state.isShowInfoLabel) {\n        var labelInfo = this.pickedObject.children.length > 0 ? this.pickedObject.children[0].children[0] : this.pickedObject;\n        this.infoLabel.show(labelInfo.name, labelInfo.name);\n      }\n\n      if (this.rotationMode && this.state.isRotationObj) {\n        this.rotationMode.create(this.pickedObject);\n      }\n\n      if (this.scaleMode && this.state.isScaleObj) {\n        this.scaleMode.create(this.pickedObject);\n      }\n\n      console.log(\"选中模型：\", this.pickedObject.name);\n    }\n  }, {\n    key: \"proxyClear\",\n    value: function proxyClear() {\n      this.selectionProxy.clear();\n\n      if (this.transformMode && this.state.isTransformObj) {\n        this.transformMode.exit();\n      }\n\n      if (this.scaleMode && this.state.isScaleObj) {\n        this.scaleMode.exit();\n      }\n\n      if (this.infoLabel && this.state.isShowInfoLabel) {\n        this.infoLabel.hideAll();\n      }\n    }\n  }, {\n    key: \"gltfLoadCompleted\",\n    value: function gltfLoadCompleted() {\n      var _this4 = this;\n\n      var box = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]().setFromObject(this.content);\n      var size = box.getSize(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]()).length();\n      var center = box.getCenter(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]());\n      this.gridHelper ? '' : this.addGridHelper(box);\n      this.controls.reset(this.content, this.clips);\n      this.content.position.x += this.content.position.x - center.x;\n      this.content.position.y += 0;\n      this.content.position.z += this.content.position.z - center.z;\n      this.controls.maxDistance = size * 10;\n      this.defaultCamera.near = size / 100;\n      this.defaultCamera.far = size * 100;\n      this.defaultCamera.updateProjectionMatrix();\n\n      if (this.options.cameraPosition) {\n        this.defaultCamera.position.fromArray(this.options.cameraPosition);\n        this.defaultCamera.lookAt(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]());\n      } else {\n        this.defaultCamera.position.copy(center);\n        this.defaultCamera.position.x += size / 1.6;\n        this.defaultCamera.position.y += size / 4.0;\n        this.defaultCamera.position.z += size / 1.6;\n        this.defaultCamera.lookAt(center);\n      }\n\n      this.setCamera(DEFAULT_CAMERA);\n      this.controls.saveState();\n      this.state.addLights = true;\n      this.content.traverse(function (node) {\n        if (node.isLight) {\n          _this4.state.addLights = false;\n        } else if (node.isMesh) {\n          // TODO(https://github.com/mrdoob/js/pull/18235): Clean up.\n          node.material.depthWrite = !node.material.transparent;\n        }\n      });\n      window.content = this.content;\n      console.info('[glTF Viewer] Scene exported as `window.content`.'); // this.printGraph(this.content);\n\n      this.scene.add(this.content);\n      this.playAllClips();\n      this.adminMaterial = new _AdminMaterial__WEBPACK_IMPORTED_MODULE_19__[\"default\"](this);\n      this.tweenProxy = new _TweenProxy__WEBPACK_IMPORTED_MODULE_20__[\"default\"](this);\n    }\n    /**\r\n     * 内置动画自动播放\r\n     */\n\n  }, {\n    key: \"playAllClips\",\n    value: function playAllClips() {\n      var _this5 = this;\n\n      this.clips.forEach(function (item) {\n        item.forEach(function (val) {\n          _this5.mixer.timeScale = _this5.state.playbackSpeed;\n\n          _this5.mixer.clipAction(val).reset().play();\n\n          _this5.state.actionStates[val.name] = true;\n        });\n      });\n    }\n    /**\r\n     * 清除选中部件\r\n     */\n\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      this.selectionProxy.clear();\n      this.pickedObject = null;\n    }\n    /**\r\n     * \r\n     * @param {通过uuid选中部件} uuid \r\n     */\n\n  }, {\n    key: \"seletedByUUId\",\n    value: function seletedByUUId(uuid) {\n      var _this6 = this;\n\n      var target = null;\n      this.scene.traverse(function (child) {\n        if (child.uuid == uuid) {\n          return target = child;\n        }\n      });\n\n      if (target) {\n        if (this.pickedObject) {\n          this.selectionProxy.clear();\n\n          if (this.transformMode) {\n            this.transformMode.exit();\n          }\n        }\n\n        if (target.children.length > 0) {\n          target.traverse(function (val) {\n            if (val.isMesh) {\n              _this6.selectionProxy.create(val);\n            }\n          });\n        } else {\n          this.selectionProxy.create(target);\n        }\n\n        this.pickedObject = target;\n\n        if (this.transformMode && this.state.isTransformObj) {\n          this.transformMode.enter(this.pickedObject);\n        }\n      }\n    }\n  }, {\n    key: \"selectedRoot\",\n    value: function selectedRoot(val) {\n      var node = val;\n      var uuid;\n\n      while (node.parent != this.content) {\n        node = node.parent;\n        uuid = node.uuid;\n      }\n\n      this.seletedByUUId(uuid);\n    }\n  }, {\n    key: \"addGUI\",\n    value: function addGUI() {\n      var _this7 = this;\n\n      var gui = this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_1__[\"GUI\"]({\n        autoPlace: false,\n        width: 260,\n        hideable: true\n      });\n      this.el.appendChild(this.gui.domElement);\n      var displayFolder = gui.addFolder('显示');\n      var envBackgroundCtrl = displayFolder.add(this.state, 'background');\n      envBackgroundCtrl.onChange(function () {\n        return _this7.updateEnvironment();\n      });\n      var structureCtl = displayFolder.add(this.state, 'structureTree');\n      structureCtl.onChange(function () {\n        _this7.showStructureTree(_this7.state.structureTree);\n      });\n      var wireframeCtrl = displayFolder.add(this.state, 'wireframe');\n      wireframeCtrl.onChange(function () {\n        return _this7.setWireframe(_this7.state.wireframe);\n      });\n      displayFolder.add(this.controls, 'autoRotate');\n      var expandFolder = gui.addFolder(\"分解\");\n      var expandCtrl = expandFolder.add(this.state, 'firstExpandScalar', 0, 1);\n      expandCtrl.onChange(function () {\n        return _this7.expand();\n      });\n      var opacityFolder = gui.addFolder(\"透明度\");\n      var opacityCtrl = opacityFolder.add(this.state, 'customOpacity', 0, 1);\n      opacityCtrl.onChange(function () {\n        return _this7.adminMaterial.setMaterialOpacity(_this7.pickedObject.material.id, _this7.state.customOpacity);\n      });\n      var colorFolder = gui.addFolder(\"颜色\");\n      var colorCtrl = colorFolder.addColor(this.state, 'customColor');\n      colorCtrl.onChange(function () {\n        return _this7.adminMaterial.setMaterialColor(_this7.pickedObject.material.id, _this7.state.customColor);\n      });\n    }\n    /**\r\n     * 设置线框模式\r\n     * @param {是否展示线框模式}} val \r\n     */\n\n  }, {\n    key: \"setWireframe\",\n    value: function setWireframe(val) {\n      var that = this;\n      traverseMaterials(that.content, function (material) {\n        material.wireframe = val;\n      });\n    }\n    /**\r\n     * \r\n     * @param {bol是否显示模型结构树} val \r\n     */\n\n  }, {\n    key: \"showStructureTree\",\n    value: function showStructureTree(val) {\n      var structureObj = document.querySelector('.viewer-structure');\n\n      if (val && structureObj) {\n        structureObj.style.display = 'block';\n      } else {\n        structureObj.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"showTransformMode\",\n    value: function showTransformMode(val) {\n      if (!this.transformMode) {\n        this.transformMode = new _TransformMode__WEBPACK_IMPORTED_MODULE_15__[\"default\"](this);\n      }\n\n      if (val) {\n        this.transformMode.enter(this.pickedObject);\n      } else {\n        this.transformMode.exit();\n      }\n\n      this.state.isTransformObj = val;\n    }\n  }, {\n    key: \"excuteTween\",\n    value: function excuteTween(val) {\n      if (val) {\n        this.tweenProxy.moveTween(this.pickedObject.name, [new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](30, 0, -5), new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](40, 0, -5)]);\n      } else {\n        this.tweenProxy.moveTween(this.pickedObject.name, [new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 20), new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 40)]);\n      }\n    }\n  }, {\n    key: \"showMaterialMode\",\n    value: function showMaterialMode(val) {\n      if (!this.adminMaterial) {\n        this.adminMaterial = new _AdminMaterial__WEBPACK_IMPORTED_MODULE_19__[\"default\"](this);\n      }\n\n      if (val) {\n        this.adminMaterial.enter();\n      } else {\n        this.adminMaterial.exit();\n      }\n    }\n  }, {\n    key: \"showScaleMode\",\n    value: function showScaleMode(val) {\n      if (!this.scaleMode) {\n        this.scaleMode = new _ScaleMode__WEBPACK_IMPORTED_MODULE_18__[\"default\"](this);\n      }\n\n      if (val && this.pickedObject) {\n        this.scaleMode.create(this.pickedObject);\n      } else {\n        this.scaleMode.exit();\n      }\n\n      this.state.isScaleObj = val;\n    }\n  }, {\n    key: \"showRotationMode\",\n    value: function showRotationMode(val) {\n      if (!this.rotationMode) {\n        this.rotationMode = new _RotationMode__WEBPACK_IMPORTED_MODULE_17__[\"default\"](this);\n      }\n\n      if (val && this.pickedObject) {\n        this.rotationMode.create(this.pickedObject);\n      } else {\n        this.rotationMode.exit();\n      }\n\n      this.state.isRotationObj = val;\n    }\n  }, {\n    key: \"showOrDelPart\",\n    value: function showOrDelPart(val) {\n      if (!this.pickedObject) {\n        return;\n      }\n\n      this.pickedObject.visible = val;\n      this.selectionProxy.hiddenProxy();\n    }\n  }, {\n    key: \"selectAllMode\",\n    value: function selectAllMode(val) {\n      this.state.isSelectAll = val;\n    }\n  }, {\n    key: \"showInfoLabel\",\n    value: function showInfoLabel(val) {\n      if (!this.infoLabel) {\n        this.infoLabel = new _InfoLabel__WEBPACK_IMPORTED_MODULE_16__[\"default\"](this);\n      }\n\n      if (val && this.pickedObject) {\n        this.infoLabel.show(this.pickedObject.name, this.pickedObject.name);\n      } else {\n        this.infoLabel.hideAll();\n      }\n\n      this.state.isShowInfoLabel = val;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this$el$parentElemen2 = this.el.parentElement,\n          clientHeight = _this$el$parentElemen2.clientHeight,\n          clientWidth = _this$el$parentElemen2.clientWidth;\n      this.defaultCamera.aspect = clientWidth / clientHeight;\n      this.defaultCamera.updateProjectionMatrix();\n      this.renderer.setSize(clientWidth, clientHeight);\n    }\n  }, {\n    key: \"updateLights\",\n    value: function updateLights() {\n      var state = this.state;\n      var lights = this.lights;\n\n      if (state.addLights && !lights.length) {\n        this.addLights();\n      } else if (!state.addLights && lights.length) {\n        this.removeLights();\n      }\n\n      this.renderer.toneMappingExposure = state.exposure;\n\n      if (lights.length === 2) {\n        lights[0].intensity = state.ambientIntensity;\n        lights[0].color.setHex(state.ambientColor);\n        lights[1].intensity = state.directIntensity;\n        lights[1].color.setHex(state.directColor);\n      }\n    }\n  }, {\n    key: \"removeLights\",\n    value: function removeLights() {\n      this.lights.forEach(function (light) {\n        return light.parent.remove(light);\n      });\n      this.lights.length = 0;\n    }\n    /**\r\n     * 设置灯光组件\r\n     */\n\n  }, {\n    key: \"addLights\",\n    value: function addLights() {\n      var state = this.state;\n      var light1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](state.ambientColor, state.ambientIntensity);\n      light1.name = 'ambient_light';\n      this.defaultCamera.add(light1);\n      var light2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](state.directColor, state.directIntensity);\n      light2.position.set(0.5, 0, 0.866); // ~60º\n\n      light2.name = 'main_light';\n      this.defaultCamera.add(light2);\n      this.lights.push(light1, light2);\n    }\n    /**\r\n     * 加载高清环境贴图\r\n     */\n\n  }, {\n    key: \"updateEnvironment\",\n    value: function updateEnvironment() {\n      var _this8 = this;\n\n      var environment = {\n        id: 'venice-sunset',\n        name: 'Venice Sunset',\n        path: '/environment/venice_sunset_1k.hdr',\n        format: '.hdr'\n      };\n      this.getCubeMapTexture(environment).then(function (_ref) {\n        var envMap = _ref.envMap;\n        _this8.scene.environment = envMap;\n        _this8.scene.background = _this8.state.background ? envMap : null;\n      });\n    }\n  }, {\n    key: \"getCubeMapTexture\",\n    value: function getCubeMapTexture(environment) {\n      var _this9 = this;\n\n      var path = environment.path; // no envmap\n\n      if (!path) return Promise.resolve({\n        envMap: null\n      });\n      return new Promise(function (resolve, reject) {\n        new three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_8__[\"RGBELoader\"]().setDataType(three__WEBPACK_IMPORTED_MODULE_0__[\"UnsignedByteType\"]).load(path, function (texture) {\n          var envMap = _this9.pmremGenerator.fromEquirectangular(texture).texture;\n\n          _this9.pmremGenerator.dispose();\n\n          resolve({\n            envMap: envMap\n          });\n        }, undefined, reject);\n      });\n    }\n  }, {\n    key: \"updateTextureEncoding\",\n    value: function updateTextureEncoding() {\n      var encoding = this.state.textureEncoding === 'sRGB' ? three__WEBPACK_IMPORTED_MODULE_0__[\"sRGBEncoding\"] : three__WEBPACK_IMPORTED_MODULE_0__[\"LinearEncoding\"];\n      traverseMaterials(this.content, function (material) {\n        if (material.map) material.map.encoding = encoding;\n        if (material.emissiveMap) material.emissiveMap.encoding = encoding;\n        if (material.map || material.emissiveMap) material.needsUpdate = true;\n      });\n    }\n    /**\r\n     * 渲染器定时执行\r\n     * @param {定时执行} time \r\n     */\n\n  }, {\n    key: \"animate\",\n    value: function animate(time) {\n      requestAnimationFrame(this.animate);\n      var dt = (time - this.prevTime) / 1000;\n      this.controls.update();\n      this.stats.update();\n      this.mixer && this.mixer.update(dt);\n      three_examples_jsm_libs_tween_module_min__WEBPACK_IMPORTED_MODULE_21__[\"TWEEN\"].update();\n      this.render();\n      this.prevTime = time;\n    } //渲染器执行\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.renderer.render(this.scene, this.activeCamera);\n    }\n  }, {\n    key: \"setClips\",\n    value: function setClips(clips) {\n      if (this.mixer) {\n        this.mixer.stopAllAction();\n        this.mixer.uncacheRoot(this.mixer.getRoot());\n        this.mixer = null;\n      }\n\n      this.clips.push(clips);\n      if (!this.clips.length) return;\n      this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__[\"AnimationMixer\"](this.content);\n    }\n    /**\r\n      * @param {string} name\r\n      */\n\n  }, {\n    key: \"setCamera\",\n    value: function setCamera(name) {\n      var _this10 = this;\n\n      if (name === DEFAULT_CAMERA) {\n        this.controls.enabled = true;\n        this.activeCamera = this.defaultCamera;\n      } else {\n        this.controls.enabled = false;\n        this.content.traverse(function (node) {\n          if (node.isCamera && node.name === name) {\n            _this10.activeCamera = node;\n          }\n        });\n      }\n    }\n    /**\r\n     * \r\n     * 模型爆炸\r\n     */\n\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      var _this11 = this;\n\n      this.calcuExpand();\n      this.content.traverse(function (node) {\n        if (!node.isMesh || !node.worldDir) return;\n        node.position.copy(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().copy(node.userData.oldPs).add(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().copy(node.worldDir).multiplyScalar(_this11.state.firstExpandScalar)));\n      });\n    }\n    /**\r\n     * 爆炸前记录模型位置信息\r\n     */\n\n  }, {\n    key: \"calcuExpand\",\n    value: function calcuExpand() {\n      var modelBox = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]().expandByObject(this.content); //计算模型的中心坐标，以这个为爆炸中心\n\n      var modelPs = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().addVectors(modelBox.max, modelBox.min).multiplyScalar(0.5);\n      var meshBox = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n      this.content.traverse(function (node) {\n        if (node.isMesh) {\n          meshBox.setFromObject(node); //获取每个mesh的中心点，爆炸方向为爆炸的中心点指向mesh中心点\n\n          var meshPs = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().addVectors(meshBox.max, meshBox.min).multiplyScalar(0.5);\n          if (isNaN(meshPs.x)) return; //计算爆炸方向\n\n          node.worldDir = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().subVectors(meshPs, modelPs).normalize(); //保存初始坐标\n\n          node.userData.oldPs = node.getWorldPosition(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]());\n        }\n      });\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(object, clips) {\n      this.content.add(object);\n      this.setClips(clips);\n      return this.content;\n    }\n  }, {\n    key: \"printGraph\",\n    value: function printGraph(node) {\n      var _this12 = this;\n\n      console.group(' <' + node.type + '> ' + node.name);\n      node.children.forEach(function (child) {\n        return _this12.printGraph(child);\n      });\n      console.groupEnd();\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, rootPath, assetMap) {\n      var baseURL = three__WEBPACK_IMPORTED_MODULE_0__[\"LoaderUtils\"].extractUrlBase(url);\n      return new Promise(function (resolve, reject) {\n        //正在加载的文件管理\n        var manager = new three__WEBPACK_IMPORTED_MODULE_0__[\"LoadingManager\"]();\n        manager.setURLModifier(function (url, path) {\n          var normalizedURL = rootPath + decodeURI(url).replace(baseURL, '').replace(/^(\\.?\\/)/, '');\n\n          if (assetMap.has(normalizedURL)) {\n            var blob = assetMap.get(normalizedURL);\n            var blobURL = URL.createObjectURL(blob);\n            blobURLs.push(blobURL);\n            return blobURL;\n          }\n\n          return (path || '') + url;\n        });\n        var loader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"GLTFLoader\"](manager).setCrossOrigin('anonymous').setDRACOLoader(new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_5__[\"DRACOLoader\"](manager).setDecoderPath('/libs/draco/')).setMeshoptDecoder(three_examples_jsm_libs_meshopt_decoder_module_js__WEBPACK_IMPORTED_MODULE_6__[\"MeshoptDecoder\"]); // debugger\n\n        var blobURLs = [];\n        loader.load(url, function (gltf) {\n          var scene = gltf.scene || gltf.scenes[0];\n          var clips = gltf.animations || [];\n          var flieNameArray = url.split(\"/\");\n          var flieName = flieNameArray.slice(-1).toString();\n          scene.name = flieName; // debugger\n\n          if (!scene) {\n            throw new Error('This model contains no scene, and cannot be viewed here. However,' + ' it may contain individual 3D resources.');\n          }\n\n          blobURLs.forEach(URL.revokeObjectURL);\n          resolve({\n            scene: gltf.scene,\n            clips: clips\n          });\n        }, undefined, reject);\n      });\n    }\n  }, {\n    key: \"justifyLocation\",\n    value: function justifyLocation(val) {\n      var backNodePosDistance = null;\n      var object3d = val;\n      var nodeOriginal = {\n        position: object3d.position.clone(),\n        scale: object3d.scale.clone(),\n        rotation: object3d.rotation.clone()\n      };\n      if (object3d.userData[\"isSetCent\"]) return; //这个现在主要是为了解决，因子node有旋转、大小、位移嵌套效果而产生的计算错误的问题--临时解决方案\n      // object3d.position.set(0, 0, 0);\n\n      object3d.scale.set(1, 1, 1);\n      object3d.rotation.set(0, 0, 0);\n      var nodeBox3 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n      nodeBox3.expandByObject(object3d);\n      var nodeCenterPos = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n      nodeBox3.getCenter(nodeCenterPos);\n      var nodePosition = object3d.position.clone();\n\n      function getCurrentRootNode(node) {\n        if (!node.parent) return null;\n        if (node.parent.type == \"Scene\") return node;\n        return getCurrentRootNode(node.parent);\n      }\n\n      var rootNode = getCurrentRootNode(object3d);\n      var rootNodeBox = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n      rootNodeBox.expandByObject(rootNode);\n      var rootNodeCenterPos = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n      rootNodeBox.getCenter(rootNodeCenterPos);\n      rootNodeCenterPos.y = 0; //先不调整y轴\n\n      var rootNodeToOriginOffset = rootNodeCenterPos.sub(rootNode.position); // console.log( 'nodeCenterPos', nodeCenterPos, 'nodeOriginal.position',nodeOriginal.position)    \n      // object3d.parent.add( boxHelper );       \n\n      if (object3d.isMesh) {\n        // e.geometry.boundingBox  获取在局部坐标系统中的该模型中心坐标，\n        var nodeLocalCenter = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n\n        if (object3d.geometry.boundingBox) {\n          object3d.geometry.boundingBox.getCenter(nodeLocalCenter);\n        } else {\n          nodeLocalCenter.copy(object3d.geometry.boundingSphere.center);\n        } //计算在局部坐标系统中的模型中心点的位置到原点的距离\n\n\n        var distX = 0 - nodeLocalCenter.x;\n        var distY = 0 - nodeLocalCenter.y;\n        var distZ = 0 - nodeLocalCenter.z; //backOrigin 存储node原始数据, 以便于以后恢复。\n\n        object3d.userData[\"backOrigin\"] = {\n          dist: [distX, distY, distZ],\n          position: object3d.position.clone()\n        }; //移动顶点坐标到原点的位置\n\n        var backOriginMatrix4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]().makeTranslation(distX, distY, distZ);\n        object3d.geometry.applyMatrix4(backOriginMatrix4);\n        backNodePosDistance = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-distX, -distY, -distZ);\n        backNodePosDistance.applyMatrix4(object3d.matrix);\n        backNodePosDistance.sub(nodeOriginal.position);\n      }\n\n      ; // object3d.position.copy( nodeOriginal.position );  \n\n      object3d.scale.copy(nodeOriginal.scale);\n      object3d.rotation.copy(nodeOriginal.rotation);\n\n      if (!backNodePosDistance) {\n        var scaleParent = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().setFromMatrixScale(object3d.parent.matrixWorld);\n        var scaleMatrixInvert = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]().makeScale(scaleParent.x, scaleParent.y, scaleParent.z).invert(); // console.log('进来了', scaleParent )\n\n        backNodePosDistance = nodeCenterPos.clone().sub(nodeOriginal.position);\n\n        if (object3d.userData.lastCenterPos) {\n          lastCenterPos = object3d.userData.lastCenterPos.sub(nodeCenterPos);\n        }\n\n        backNodePosDistance.add(rootNodeToOriginOffset);\n      }\n\n      var orgNodeCenterPos, otheOffset;\n\n      if (object3d.userData[\"isSetCent\"]) {\n        var _orgNodeCenterPos = nodeCenterPos.clone(); // let rotationMatrixInvert = new Matrix4().makeRotationFromEuler( nodeOriginal.rotation ).invert ();\n\n\n        var rotationMatrixInvert = object3d.matrix.clone().invert();\n\n        _orgNodeCenterPos.applyMatrix4(rotationMatrixInvert);\n\n        otheOffset = nodeCenterPos.sub(_orgNodeCenterPos);\n        otheOffset.sub(object3d.position); // backNodePosDistance.add( otheOffset )\n      }\n\n      object3d.position.add(backNodePosDistance); // console.log( \n      //     // 'lastCenterPos', lastCenterPos,\n      //     'nodeOriginal.position', nodeOriginal.position,\n      //     'object3d.position', object3d.position,\n      //     'backNodePosDistance', backNodePosDistance, \n      //     // 'rootNodeToOriginOffset', rootNodeToOriginOffset, \n      //     'nodeCenterPos', nodeCenterPos,\n      //     // 'orgNodeCenterPos', orgNodeCenterPos,\n      //     // 'otheOffset', otheOffset\n      //  )\n\n      if (object3d.children.length > 0) {\n        for (var i = 0; i < object3d.children.length; i++) {\n          var nodeChildren = object3d.children[i]; // nodeChildren.position.sub( rootNodeToOriginOffset );          \n\n          nodeChildren.position.sub(backNodePosDistance);\n        }\n      }\n\n      ;\n      object3d.userData[\"lastCenterPos\"] = nodeCenterPos.clone();\n      object3d.userData[\"isSetCent\"] = true; // debugger\n      // console.log('object3d', object3d)\n    }\n  }]);\n\n  return Viewer;\n}();\n\nfunction traverseMaterials(object, callback) {\n  object.traverse(function (node) {\n    if (!node.isMesh) return;\n    var materials = Array.isArray(node.material) ? node.material : [node.material];\n    materials.forEach(callback);\n  });\n}\n\n//# sourceURL=webpack:///./src/components/Viewer.js?");

/***/ }),

/***/ "./src/images/default-material-ball.png":
/*!**********************************************!*\
  !*** ./src/images/default-material-ball.png ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/default-material-ball.png\");\n\n//# sourceURL=webpack:///./src/images/default-material-ball.png?");

/***/ }),

/***/ "./src/images/ground_scene.png":
/*!*************************************!*\
  !*** ./src/images/ground_scene.png ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/ground_scene.png\");\n\n//# sourceURL=webpack:///./src/images/ground_scene.png?");

/***/ }),

/***/ "./src/images/label3d-line.png":
/*!*************************************!*\
  !*** ./src/images/label3d-line.png ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"images/label3d-line.png\");\n\n//# sourceURL=webpack:///./src/images/label3d-line.png?");

/***/ }),

/***/ "./src/scss/adminMaterial.scss":
/*!*************************************!*\
  !*** ./src/scss/adminMaterial.scss ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/scss/adminMaterial.scss?");

/***/ }),

/***/ "./src/scss/infoLabel.scss":
/*!*********************************!*\
  !*** ./src/scss/infoLabel.scss ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/scss/infoLabel.scss?");

/***/ }),

/***/ "./src/scss/jsonview.scss":
/*!********************************!*\
  !*** ./src/scss/jsonview.scss ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/scss/jsonview.scss?");

/***/ }),

/***/ "./src/scss/three-viewer.scss":
/*!************************************!*\
  !*** ./src/scss/three-viewer.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/scss/three-viewer.scss?");

/***/ }),

/***/ "./src/shaders/EdgeShader.js":
/*!***********************************!*\
  !*** ./src/shaders/EdgeShader.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar EdgeShader = {\n  uniforms: {\n    \"tDiffuse\": {\n      value: null\n    },\n    \"aspect\": {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](512, 512)\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform sampler2D tDiffuse;\", \"varying vec2 vUv;\", \"uniform vec2 aspect;\", \"vec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);\", \"mat3 G[9];\", // hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45\n  \"const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );\", \"const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );\", \"const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );\", \"const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );\", \"const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );\", \"const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );\", \"const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );\", \"const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );\", \"const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );\", \"void main(void)\", \"{\", \"G[0] = g0,\", \"G[1] = g1,\", \"G[2] = g2,\", \"G[3] = g3,\", \"G[4] = g4,\", \"G[5] = g5,\", \"G[6] = g6,\", \"G[7] = g7,\", \"G[8] = g8;\", \"mat3 I;\", \"float cnv[9];\", \"vec3 sample;\",\n  /* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */\n  \"for (float i=0.0; i<3.0; i++) {\", \"for (float j=0.0; j<3.0; j++) {\", \"sample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;\", \"I[int(i)][int(j)] = length(sample);\", \"}\", \"}\",\n  /* calculate the convolution values for all the masks */\n  \"for (int i=0; i<9; i++) {\", \"float dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\", \"cnv[i] = dp3 * dp3;\", \"}\", \"float M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);\", \"float S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);\", \"gl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);\", \"}\"].join(\"\\n\")\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EdgeShader);\n\n//# sourceURL=webpack:///./src/shaders/EdgeShader.js?");

/***/ }),

/***/ "./src/utility/ApiService.js":
/*!***********************************!*\
  !*** ./src/utility/ApiService.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ApiService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar GET_MATERIAL_DATA = '/MOCK/material/';\n\nvar ApiService = /*#__PURE__*/function () {\n  function ApiService() {\n    _classCallCheck(this, ApiService);\n  }\n\n  _createClass(ApiService, null, [{\n    key: \"getMaterials\",\n    value: function getMaterials() {\n      return fetch(GET_MATERIAL_DATA + 'material.json', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      });\n    }\n  }, {\n    key: \"getMaterialDataByUrl\",\n    value: function getMaterialDataByUrl(materialUrl) {\n      return fetch(materialUrl, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      });\n    }\n  }]);\n\n  return ApiService;\n}();\n\n\n\n//# sourceURL=webpack:///./src/utility/ApiService.js?");

/***/ }),

/***/ "./src/utility/dom-helper.js":
/*!***********************************!*\
  !*** ./src/utility/dom-helper.js ***!
  \***********************************/
/*! exports provided: createElement, getElementWidth, getElementHeight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementWidth\", function() { return getElementWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementHeight\", function() { return getElementHeight; });\nfunction createElement(tag, className, html) {\n  var el = document.createElement(tag);\n\n  if (className) {\n    el.className = className;\n  }\n\n  if (html) {\n    el.innerHTML = html;\n  }\n\n  return el;\n}\n\nfunction getElementWidth(el) {\n  if (el.getBoundingClientRect) {\n    return el.getBoundingClientRect().width;\n  } else {\n    return el.clientWidth;\n  }\n}\n\nfunction getElementHeight(el) {\n  if (el.getBoundingClientRect) {\n    return el.getBoundingClientRect().height;\n  } else {\n    return el.clientHeight;\n  }\n}\n\n\n\n//# sourceURL=webpack:///./src/utility/dom-helper.js?");

/***/ })

/******/ });